import{d as e,r as a,c as t,a as l,b as s,w as n,i,e as c,f as u,j as o,k as d,l as r,m,t as p,B as v,n as f,F as y,p as _,x as g,v as h,G as k,A as x,z as b,a5 as w}from"./index-8WK0Ux_r.js";import{_ as $,a as C}from"./icon.CNXA9uzs.js";import{_ as T}from"./app-footer.ZfEswbZz.js";const I=C(e({__name:"notice",setup(e){const C=a(!0),I=a(0),D=["物业服务公示","业委会公示","政府公告","其它"],M=a("阳光水岸一期"),j=a((new Date).getFullYear()),z=`${(new Date).getMonth()+1}月`,O=`${(new Date).getDate()}日`,B=a("month"),F=a(z),A=a(O),S=a("time-1"),Y=a(!0),G=()=>{Y.value&&(Y.value=!1)},H=["12月","1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],L=t(()=>{if("month"===B.value)return H;{const e=parseInt(F.value),a=new Date(j.value,e,0).getDate();return Array.from({length:a},(e,a)=>`${a+1}日`)}}),q={0:[{id:"greenery",name:"绿化养护"},{id:"cleaning",name:"环境保洁"},{id:"order",name:"公共秩序"},{id:"security",name:"治安保卫"},{id:"maintenance",name:"设施维修"},{id:"income",name:"收入公示"},{id:"expense",name:"支出公示"}],1:[{id:"contract",name:"合同公示"},{id:"income_comm",name:"收入公示"},{id:"expense_comm",name:"支出公示"},{id:"invoice",name:"票据公示"},{id:"general_major",name:"一般重大事项"},{id:"special_major",name:"特别重大事项"}],2:[{id:"policy",name:"最新政策"},{id:"notice",name:"政务通知"},{id:"guide",name:"办事指南"}],3:[{id:"activity",name:"社区活动"},{id:"other",name:"其它事项"}]},E=t(()=>q[I.value]||q[0]),J=a({"greenery-1月":{status:"已完成",action:"查看报告",type:"planning"},"cleaning-1月":{status:"已完成",action:"查看报告",type:"planning"},"order-1月":{status:"已完成",action:"查看记录",type:"planning"},"security-1月":{status:"已完成",action:"巡检报告",type:"planning"},"maintenance-1月":{status:"已完成",action:"维修清单",type:"planning"},"income-1月":{status:"已公示",action:"查看账目",type:"planning"},"expense-1月":{status:"已公示",action:"查看明细",type:"planning"},"greenery-2月":{status:"维护中",action:"查看详情",type:"applying",hot:!0},"cleaning-2月":{status:"已完成",action:"查看报告",type:"planning"},"order-2月":{status:"计划中",action:"查看方案",type:"planning"},"security-2月":{status:"进行中",action:"实时监控",type:"applying",hot:!0},"maintenance-2月":{status:"待处理",subStatus:"本月15日开始",action:"进度跟踪",type:"ending"},"income-2月":{status:"已公示",action:"查看月报",type:"planning"},"expense-2月":{status:"审核中",action:"查看明细",type:"applying"},"greenery-2月9日":{status:"正在修剪",action:"查看现场",type:"applying",hot:!0},"security-2月9日":{status:"巡逻中",action:"查看轨迹",type:"applying"},"cleaning-2月8日":{status:"已完成",action:"保洁记录",type:"planning"},"contract-1月":{status:"已签约",action:"查看合同",type:"planning"},"income_comm-1月":{status:"已结算",action:"收支明细",type:"planning"},"expense_comm-1月":{status:"已支付",action:"支出凭证",type:"planning"},"invoice-1月":{status:"已汇总",action:"查看票据",type:"planning"},"general_major-1月":{status:"已决议",action:"会议纪要",type:"planning"},"special_major-1月":{status:"已备案",action:"公示文件",type:"planning"},"contract-2月":{status:"履行中",action:"进度查看",type:"applying"},"income_comm-2月":{status:"公示中",action:"查看详情",type:"applying",hot:!0},"expense_comm-2月":{status:"待审核",action:"明细预审",type:"ending"},"general_major-2月":{status:"征求意见",action:"参与投票",type:"applying",hot:!0},"policy-1月":{status:"已发布",action:"查看详情",type:"planning"},"activity-1月":{status:"已结束",action:"活动回顾",type:"planning"},"policy-2月":{status:"已发布",action:"点击阅读",type:"planning",hot:!0},"activity-2月":{status:"报名中",action:"立即参加",type:"applying",hot:!0}}),K={2:[{title:"关于进一步加强住宅专项维修资金管理的通知",source:"赣州市住房和城乡建设局",date:"2026-02-08"},{title:"2026年第一季度物业服务质量评价结果公示",source:"赣州市物业管理协会",date:"2026-02-05"},{title:"智慧社区建设标准指南（试行）",source:"江西省住房和城乡建设厅",date:"2026-01-20"}],3:[{title:"阳光水岸社区“元宵喜乐会”活动报名通知",source:"社区居委会",date:"2026-02-10"},{title:"小区公共设施维修改造意见征集公告",source:"业主委员会",date:"2026-02-09"},{title:"关于增设非机动车充电桩的进度公示",source:"物业服务中心",date:"2026-02-01"}]},N=t(()=>K[I.value]||[]);t(()=>{const e=D[I.value]||"";return e.includes("公示")?e.replace("公示","项目"):e.includes("公告")?e.replace("公告","内容"):"公示项目"}),l(()=>{setTimeout(()=>{C.value=!1,setTimeout(()=>{const e=H.lastIndexOf(z);S.value=`time-${Math.max(1,e)}`},200)},800)});const P=()=>{k()},Q=()=>{b({title:"加载更多...",icon:"none"})},R=()=>{w({itemList:["2024年","2025年","2026年"],success:e=>{const a=[2024,2025,2026][e.tapIndex];void 0!==a&&(j.value=a)}})},U=e=>{B.value=e,Y.value=!0,S.value="",setTimeout(()=>{if("month"===e){const e=H.lastIndexOf(F.value);S.value=`time-${Math.max(1,e)}`}else{const e=L.value.indexOf(A.value);S.value=`time-${Math.max(1,e-1)}`}},200),setTimeout(()=>{Y.value=!1},1500)},V=e=>{const a=new Date,t=a.getFullYear(),l=a.getMonth()+1,s=a.getDate(),n="month"===B.value?parseInt(e):parseInt(F.value),i="month"===B.value?1:parseInt(e);return j.value<t?"past":j.value>t?"future":"month"===B.value?n<l?"past":n>l?"future":"current":n<l?"past":n>l?"future":i<s?"past":i>s?"future":"current"},W=(e,a)=>{const t="month"===B.value?`${e}-${a}`:`${e}-${F.value}${a}`;return J.value[t]||null};return(e,a)=>{const t=c(u("t-icon"),$),l=i,k=r,w=v,z=c(u("app-footer"),T);return o(),s(l,{class:"page-container"},{default:n(()=>[d(l,{class:"header-section"},{default:n(()=>[d(l,{class:"header-top"},{default:n(()=>[d(l,{class:"back-btn",onClick:P},{default:n(()=>[d(t,{name:"chevron-left",size:"48rpx",color:"#fff"})]),_:1})]),_:1}),d(l,{class:"header-main"},{default:n(()=>[d(l,{class:"title-box"},{default:n(()=>[d(k,{class:"main-title"},{default:n(()=>[m("公示公告")]),_:1}),d(k,{class:"sub-title"},{default:n(()=>[m("共识、透明、公开")]),_:1}),d(l,{class:"house-info"},{default:n(()=>[d(t,{name:"location",size:"28rpx",color:"#fff",class:"loc-icon"}),d(k,null,{default:n(()=>[m(p(M.value),1)]),_:1})]),_:1})]),_:1}),d(l,{class:"header-illustration"},{default:n(()=>[d(l,{class:"illust-glass-card card-back"}),d(l,{class:"illust-glass-card card-front"},{default:n(()=>[d(l,{class:"notice-box"},{default:n(()=>[d(l,{class:"notice-line"}),d(l,{class:"notice-line"}),d(l,{class:"notice-dot"})]),_:1})]),_:1}),d(l,{class:"illust-cloud c1"}),d(l,{class:"illust-cloud c2"})]),_:1})]),_:1}),d(l,{class:"decor-circle"})]),_:1}),d(w,{"scroll-x":"",class:"tabs-scroll-view","show-scrollbar":!1,enhanced:!0},{default:n(()=>[d(l,{class:"tabs-container animate-fade-in"},{default:n(()=>[(o(),f(y,null,_(D,(e,a)=>d(l,{key:a,class:g(["tab-item",{active:I.value===a}]),onClick:e=>(e=>{I.value=e,Y.value=!0,S.value="",setTimeout(()=>{if("month"===B.value){const e=H.lastIndexOf(F.value);S.value=`time-${Math.max(1,e)}`}else{const e=L.value.indexOf(A.value);S.value=`time-${Math.max(1,e-1)}`}},200),setTimeout(()=>{Y.value=!1},1500)})(a)},{default:n(()=>[d(k,null,{default:n(()=>[m(p(e),1)]),_:2},1024),I.value===a?(o(),s(l,{key:0,class:"active-bar"})):h("",!0)]),_:2},1032,["class","onClick"])),64))]),_:1})]),_:1}),d(l,{class:"content-area"},{default:n(()=>[!C.value&&I.value<2?(o(),s(l,{key:0,class:"calendar-wrapper"},{default:n(()=>[d(l,{class:"calendar-header"},{default:n(()=>[d(l,{class:"header-left"},{default:n(()=>[d(l,{class:"year-selector",onClick:R},{default:n(()=>[d(t,{name:"calendar",size:"32rpx",color:"#3B82F6",class:"cal-icon"}),d(k,{class:"year-text"},{default:n(()=>[m(p(j.value)+" 年",1)]),_:1}),d(t,{name:"chevron-down",size:"28rpx",color:"#94A3B8"})]),_:1})]),_:1}),d(l,{class:"header-right"},{default:n(()=>[d(l,{class:"view-mode-switch"},{default:n(()=>[d(l,{class:g(["mode-btn",{active:"day"===B.value}]),onClick:a[0]||(a[0]=e=>U("day"))},{default:n(()=>[d(k,null,{default:n(()=>[m("日")]),_:1})]),_:1},8,["class"]),d(l,{class:g(["mode-btn",{active:"month"===B.value}]),onClick:a[1]||(a[1]=e=>U("month"))},{default:n(()=>[d(k,null,{default:n(()=>[m("月")]),_:1})]),_:1},8,["class"]),d(l,{class:g(["mode-slider",B.value])},null,8,["class"])]),_:1})]),_:1})]),_:1}),d(l,{class:"grid-table"},{default:n(()=>[d(w,{"scroll-x":"",class:g(["main-horizontal-scroll",{"initial-state":Y.value}]),"scroll-into-view":S.value,"scroll-with-animation":!0,onScroll:G},{default:n(()=>[d(l,{class:"table-row head-row"},{default:n(()=>[d(l,{class:"sticky-col label-cell"},{default:n(()=>[d(k,{class:"label-text"},{default:n(()=>[m(p("month"===B.value?j.value+"年":F.value),1)]),_:1})]),_:1}),d(l,{class:"months-container"},{default:n(()=>[(o(!0),f(y,null,_(L.value,(e,a)=>(o(),s(l,{class:g(["month-cell",{active:"month"===B.value?e===F.value:e===A.value}]),key:e,id:"time-"+(a+1),onClick:a=>(e=>{if("month"===B.value){F.value=e;const a=H.lastIndexOf(e);Y.value=!0,S.value="",setTimeout(()=>{S.value=`time-${Math.max(1,a)}`},50),setTimeout(()=>{Y.value=!1},1500)}else{A.value=e;const a=L.value.indexOf(e);Y.value=!0,S.value="",setTimeout(()=>{S.value=`time-${Math.max(1,a-1)}`},50),setTimeout(()=>{Y.value=!1},1500)}})(e)},{default:n(()=>[d(k,null,{default:n(()=>[m(p(e),1)]),_:2},1024)]),_:2},1032,["id","class","onClick"]))),128))]),_:1})]),_:1}),(o(!0),f(y,null,_(E.value,e=>(o(),s(l,{class:"table-row data-row",key:e.id},{default:n(()=>[d(l,{class:"sticky-col category-cell"},{default:n(()=>[d(k,null,{default:n(()=>[m(p(e.name),1)]),_:2},1024)]),_:2},1024),d(l,{class:"cells-container"},{default:n(()=>[(o(!0),f(y,null,_(L.value,(a,t)=>(o(),s(l,{class:"data-cell",key:a,id:"cell-"+e.id+"-"+(t+1),onClick:t=>((e,a)=>{if("month"===B.value){F.value=a,B.value="day",Y.value=!0,S.value="";const e=new Date;return parseInt(a)===e.getMonth()+1&&j.value===e.getFullYear()?(A.value=`${e.getDate()}日`,setTimeout(()=>{S.value=`time-${Math.max(1,e.getDate()-2)}`},200)):(A.value="1日",setTimeout(()=>{S.value="time-1"},200)),setTimeout(()=>{Y.value=!1},1500),void b({title:`已切换至 ${a} 详情`,icon:"none"})}const t=W(e,a);t&&b({title:`正在查看 ${t.status}`,icon:"none"})})(e.id,a)},{default:n(()=>[W(e.id,a)?(o(),s(l,{key:0,class:g(["status-card",W(e.id,a).type])},{default:n(()=>[d(l,{class:"status-text"},{default:n(()=>[m(p(W(e.id,a).status),1)]),_:2},1024),W(e.id,a).subStatus?(o(),s(l,{key:0,class:"sub-status"},{default:n(()=>[m(p(W(e.id,a).subStatus),1)]),_:2},1024)):h("",!0),d(l,{class:"action-link"},{default:n(()=>[m(p(W(e.id,a).action),1)]),_:2},1024)]),_:2},1032,["class"])):(o(),s(l,{key:1,class:g(["status-card default-status",V(a)])},{default:n(()=>["current"!==V(a)?(o(),s(l,{key:0,class:"status-text"},{default:n(()=>[m(p("past"===V(a)?"计划已完成":"按合同计划中"),1)]),_:2},1024)):h("",!0)]),_:2},1032,["class"]))]),_:2},1032,["id","onClick"]))),128))]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["class","scroll-into-view"])]),_:1})]),_:1})):!C.value&&I.value>=2?(o(),s(l,{key:1,class:"list-wrapper"},{default:n(()=>[d(l,{class:"policy-list"},{default:n(()=>[(o(!0),f(y,null,_(N.value,(e,a)=>(o(),s(l,{class:"policy-item",key:a,onClick:a=>(e=>{x({url:`/pages/notice/notice-detail?id=${e.id||1}`})})(e)},{default:n(()=>[d(l,{class:"item-icon"},{default:n(()=>[d(l,{class:"icon-inner"})]),_:1}),d(l,{class:"item-main"},{default:n(()=>[d(k,{class:"item-title"},{default:n(()=>[m(p(e.title),1)]),_:2},1024),d(l,{class:"item-info"},{default:n(()=>[d(k,{class:"item-source"},{default:n(()=>[m(p(e.source),1)]),_:2},1024),d(k,{class:"item-date"},{default:n(()=>[m(p(e.date),1)]),_:2},1024)]),_:2},1024)]),_:2},1024),d(l,{class:"item-right"},{default:n(()=>[d(t,{name:"chevron-right",size:"32rpx",color:"#64748B"})]),_:1})]),_:2},1032,["onClick"]))),128)),d(l,{class:"view-more",onClick:Q},{default:n(()=>[d(k,null,{default:n(()=>[m("查看更多")]),_:1}),d(t,{name:"chevron-down",size:"24rpx",color:"#94A3B8"})]),_:1})]),_:1})]),_:1})):(o(),s(l,{key:2,class:"loading-state"},{default:n(()=>[(o(),f(y,null,_(4,e=>d(l,{class:"skeleton-item-card",key:e},{default:n(()=>[d(l,{class:"skeleton-line tag-skel"}),d(l,{class:"skeleton-line title-skel"}),d(l,{class:"skeleton-line date-skel"})]),_:2},1024)),64))]),_:1}))]),_:1}),d(z)]),_:1})}}}),[["__scopeId","data-v-0ba39f24"]]);export{I as default};
