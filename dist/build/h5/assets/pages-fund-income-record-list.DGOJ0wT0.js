import{d as e,r as a,c as t,b as l,w as s,i as o,e as i,f as r,j as u,k as n,l as c,m as d,t as p,n as m,F as v,p as f,x as _,B as y,Q as b,G as g,A as x}from"./index-8WK0Ux_r.js";import{_ as k}from"./navbar.CrUfp4xJ.js";import{_ as F,a as S}from"./icon.CNXA9uzs.js";import{_ as C,a as j}from"./picker.B0XRDc90.js";import"./parent-map.DLFD9qfo.js";import"./relation.DsLEl_h2.js";import"./popup.C-z1-a1n.js";const h=S(e({__name:"income-record-list",setup(e){const S=a("2026"),h=a("02"),w=a(!1),T=a("all"),U=[{label:"全部",value:"all"},{label:"收入",value:"in"},{label:"支出",value:"out"}],z=[{label:"2026年",value:"2026"},{label:"2025年",value:"2025"},{label:"2024年",value:"2024"}],B=Array.from({length:12},(e,a)=>({label:`${String(a+1).padStart(2,"0")}月`,value:String(a+1).padStart(2,"0")})),D=a([{title:"电梯广告位租金收入",date:"2026-02-01",time:"14:30:22",amount:"16000.00",type:"in",typeText:"收入",category:"广告收益"},{title:"电梯维保支出",date:"2026-02-05",time:"09:15:45",amount:"9500.00",type:"out",typeText:"支出",category:"设施维修"},{title:"小区停车位租赁收入",date:"2026-01-20",amount:"22000.00",type:"in",typeText:"收入"},{title:"春节氛围装饰采购",date:"2026-01-10",amount:"14000.00",type:"out",typeText:"支出"},{title:"外墙广告位收益",date:"2026-01-15",amount:"18000.00",type:"in",typeText:"收入"}]),$=t(()=>D.value.filter(e=>{const a=e.date.startsWith(`${S.value}-${h.value}`),t="all"===T.value||e.type===T.value;return a&&t})),E=t(()=>{const e=$.value.filter(e=>"in"===e.type).reduce((e,a)=>e+parseFloat(a.amount),0),a=$.value.filter(e=>"out"===e.type).reduce((e,a)=>e+parseFloat(a.amount),0);return{income:e.toLocaleString("en-US",{minimumFractionDigits:2}),expense:a.toLocaleString("en-US",{minimumFractionDigits:2})}}),L=()=>{g()},A=e=>{S.value=e.value[0],h.value=e.value[1],w.value=!1};return(e,a)=>{const t=i(r("t-navbar"),k),g=c,D=o,G=i(r("t-icon"),F),I=y,O=i(r("t-picker-item"),C),R=i(r("t-picker"),j);return u(),l(D,{class:"page-container"},{default:s(()=>[n(t,{title:"收支明细","left-arrow":"",delta:0,onGoBack:L,fixed:!0,class:"custom-navbar"}),n(D,{class:"summary-stats"},{default:s(()=>[n(D,{class:"stat-item income"},{default:s(()=>[n(g,{class:"label"},{default:s(()=>[d("本月收入 (元)")]),_:1}),n(g,{class:"value"},{default:s(()=>[d("+"+p(E.value.income),1)]),_:1})]),_:1}),n(D,{class:"stat-divider"}),n(D,{class:"stat-item expense"},{default:s(()=>[n(g,{class:"label"},{default:s(()=>[d("本月支出 (元)")]),_:1}),n(g,{class:"value"},{default:s(()=>[d("-"+p(E.value.expense),1)]),_:1})]),_:1})]),_:1}),n(D,{class:"filter-bar"},{default:s(()=>[n(D,{class:"date-picker",onClick:a[0]||(a[0]=e=>w.value=!0)},{default:s(()=>[n(g,null,{default:s(()=>[d(p(S.value)+"年"+p(h.value)+"月",1)]),_:1}),n(G,{name:"caret-down-small",size:"32rpx",color:"#64748B"})]),_:1}),n(D,{class:"type-filter"},{default:s(()=>[(u(),m(v,null,f(U,e=>n(D,{key:e.value,class:_(["type-tag",{active:T.value===e.value}]),onClick:a=>T.value=e.value},{default:s(()=>[d(p(e.label),1)]),_:2},1032,["class","onClick"])),64))]),_:1})]),_:1}),n(I,{"scroll-y":"",class:"list-scroll"},{default:s(()=>[$.value.length>0?(u(),l(D,{key:0,class:"record-list"},{default:s(()=>[(u(!0),m(v,null,f($.value,(e,a)=>(u(),l(D,{key:a,class:"record-card",onClick:a=>(e=>{x({url:`/pages/fund/income-record-detail?data=${encodeURIComponent(JSON.stringify(e))}`})})(e)},{default:s(()=>[n(D,{class:"card-left"},{default:s(()=>[n(D,{class:_(["icon-box",e.type])},{default:s(()=>[n(G,{name:"in"===e.type?"arrow-up":"arrow-down",size:"40rpx",color:"#FFFFFF"},null,8,["name"])]),_:2},1032,["class"]),n(D,{class:"record-info"},{default:s(()=>[n(g,{class:"record-title"},{default:s(()=>[d(p(e.title),1)]),_:2},1024),n(g,{class:"record-date"},{default:s(()=>[d(p(e.date)+" "+p(e.time||"10:00:00"),1)]),_:2},1024)]),_:2},1024)]),_:2},1024),n(D,{class:"card-right"},{default:s(()=>[n(g,{class:_(["amount",e.type])},{default:s(()=>{return[d(p("in"===e.type?"+":"-")+p((a=e.amount,parseFloat(a).toLocaleString("en-US",{minimumFractionDigits:2}))),1)];var a}),_:2},1032,["class"]),n(G,{name:"chevron-right",size:"32rpx",color:"#CBD5E1"})]),_:2},1024)]),_:2},1032,["onClick"]))),128)),n(D,{class:"no-more"},{default:s(()=>[d("已显示全部记录")]),_:1})]),_:1})):(u(),l(D,{key:1,class:"empty-state"},{default:s(()=>[n(G,{name:"info-circle",size:"120rpx",color:"#E2E8F0"}),n(g,{class:"empty-text"},{default:s(()=>[d(p(S.value)+"年"+p(h.value)+"月暂无收支明细",1)]),_:1})]),_:1}))]),_:1}),n(R,{visible:w.value,"onUpdate:visible":a[1]||(a[1]=e=>w.value=e),value:[S.value,h.value],title:"选择日期","cancel-btn":"取消","confirm-btn":"确定",onConfirm:A,onCancel:a[2]||(a[2]=e=>w.value=!1)},{default:s(()=>[n(O,{options:z}),n(O,{options:b(B)},null,8,["options"])]),_:1},8,["visible","value"])]),_:1})}}}),[["__scopeId","data-v-cc9d8a00"]]);export{h as default};
