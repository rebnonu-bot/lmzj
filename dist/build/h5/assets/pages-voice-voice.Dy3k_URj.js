import{d as e,r as a,a as l,c as s,b as t,w as c,i as u,e as n,f as o,j as i,k as r,l as d,m as f,I as _,n as p,F as y,p as m,x as v,t as k,v as b,B as g,s as h,E as x,G as w,H as B,A as C}from"./index-8WK0Ux_r.js";import{_ as F,a as E}from"./icon.CNXA9uzs.js";import{_ as z}from"./app-tab-bar.DbT_--yF.js";const A=E(e({__name:"voice",setup(e){const E=a(""),A=a(0),j=["全部","处理中","已办结","已评价"],T=a(!0);l(()=>{setTimeout(()=>{T.value=!1},800)});const L=a([{id:1,title:"地下车库感应灯不亮",type:"报修",content:"1号楼负一层电梯口出来的感应灯坏了，晚上回来黑漆漆的很不方便。",status:"处理中",time:"2026-02-08 14:30",images:[]},{id:2,title:"建议增加儿童游乐场遮阳设施",type:"建议",content:"现在的儿童游乐场下午太阳太晒了，建议加个遮阳棚，方便孩子们玩耍。",status:"已办结",time:"2026-02-05 10:15",reply:"感谢您的建议，物业已将其列入年度改造计划，预计下月开始动工。",replyTime:"2026-02-06 09:00",images:[]},{id:3,title:"绿化带杂草清理不及时",type:"投诉",content:"3号楼前面的绿化带杂草长得比花都高了，影响美观，希望尽快处理。",status:"已评价",time:"2026-02-01 16:20",reply:"已安排绿化人员完成清理工作。",replyTime:"2026-02-02 11:30",rating:5,images:[]},{id:4,title:"电梯运行噪音大",type:"报修",content:"2号楼东梯运行到15楼以上时有明显的异响，希望能检查一下。",status:"处理中",time:"2026-02-07 09:45",images:[]}]),V=s(()=>{let e=L.value;if(0!==A.value){const a=j[A.value];e=e.filter(e=>e.status===a)}if(E.value){const a=E.value.toLowerCase();e=e.filter(e=>e.title.toLowerCase().includes(a)||e.content.toLowerCase().includes(a))}return e}),H=e=>{switch(e){case"处理中":return"#3B82F6";case"已办结":return"#10B981";case"已评价":return"#64748B";default:return"#94A3B8"}},I=e=>{switch(e){case"报修":return"#F59E0B";case"建议":return"#3B82F6";case"投诉":return"#EF4444";default:return"#64748B"}},D=()=>{x().length>1?w():B({url:"/pages/index/index"})},G=()=>{C({url:"/pages/voice/voice-form"})};return(e,a)=>{const l=n(o("t-icon"),F),s=u,x=d,w=_,B=g,C=n(o("app-tab-bar"),z);return i(),t(s,{class:"page-container"},{default:c(()=>[r(s,{class:"header-section"},{default:c(()=>[r(s,{class:"header-top"},{default:c(()=>[r(s,{class:"back-btn",onClick:D},{default:c(()=>[r(l,{name:"chevron-left",size:"48rpx",color:"#fff"})]),_:1})]),_:1}),r(s,{class:"header-content"},{default:c(()=>[r(s,{class:"title-group"},{default:c(()=>[r(x,{class:"main-title"},{default:c(()=>[f("业主有话说")]),_:1}),r(x,{class:"sub-title"},{default:c(()=>[f("民有所呼 我有所应 民有所求 我有所为")]),_:1})]),_:1}),r(s,{class:"header-illust"},{default:c(()=>[r(s,{class:"illust-glass-card card-back"}),r(s,{class:"illust-glass-card card-front"},{default:c(()=>[r(s,{class:"doc-line"}),r(s,{class:"doc-line"}),r(s,{class:"doc-line short"})]),_:1}),r(s,{class:"illust-badge"},{default:c(()=>[r(l,{name:"check-circle-filled",size:"28rpx",color:"#10B981"})]),_:1})]),_:1})]),_:1}),r(s,{class:"header-wave"})]),_:1}),r(s,{class:"action-card-container"},{default:c(()=>[r(s,{class:"action-card",onClick:G},{default:c(()=>[r(x,{class:"action-text"},{default:c(()=>[f("我有话说")]),_:1}),r(s,{class:"action-icon-box"},{default:c(()=>[r(s,{class:"plus-icon"},{default:c(()=>[f("+")]),_:1})]),_:1})]),_:1})]),_:1}),r(s,{class:"search-section"},{default:c(()=>[r(s,{class:"search-input-box"},{default:c(()=>[r(l,{name:"search",size:"36rpx",color:"#94A3B8"}),r(w,{type:"text",modelValue:E.value,"onUpdate:modelValue":a[0]||(a[0]=e=>E.value=e),placeholder:"请输入搜索关键词","placeholder-style":"color: #94A3B8"},null,8,["modelValue"]),r(x,{class:"search-btn"},{default:c(()=>[f("搜索")]),_:1})]),_:1})]),_:1}),r(s,{class:"tabs-bar"},{default:c(()=>[(i(),p(y,null,m(j,(e,a)=>r(s,{key:a,class:v(["tab-item",{active:A.value===a}]),onClick:e=>A.value=a},{default:c(()=>[r(x,null,{default:c(()=>[f(k(e),1)]),_:2},1024),A.value===a?(i(),t(s,{key:0,class:"active-line"})):b("",!0)]),_:2},1032,["class","onClick"])),64))]),_:1}),r(B,{"scroll-y":"",class:"content-scroll"},{default:c(()=>[T.value?(i(),t(s,{key:0,class:"voice-list skeleton-list"},{default:c(()=>[(i(),p(y,null,m(3,e=>r(s,{key:e,class:"voice-card skeleton-card"},{default:c(()=>[r(s,{class:"skeleton-item header-skel"}),r(s,{class:"skeleton-item content-skel"}),r(s,{class:"skeleton-item footer-skel"})]),_:2},1024)),64))]),_:1})):V.value.length>0?(i(),t(s,{key:1,class:"voice-list animate-fade-in"},{default:c(()=>[(i(!0),p(y,null,m(V.value,(e,a)=>(i(),t(s,{key:e.id,class:"voice-card animate-slide-up",style:h({animationDelay:.1*a+"s"})},{default:c(()=>[r(s,{class:"card-header"},{default:c(()=>[r(s,{class:"type-tag",style:h({color:I(e.type),backgroundColor:I(e.type)+"15"})},{default:c(()=>[f(k(e.type),1)]),_:2},1032,["style"]),r(x,{class:"voice-title"},{default:c(()=>[f(k(e.title),1)]),_:2},1024),r(s,{class:"status-tag",style:h({color:H(e.status)})},{default:c(()=>[r(s,{class:"status-dot",style:h({backgroundColor:H(e.status)})},null,8,["style"]),f(" "+k(e.status),1)]),_:2},1032,["style"])]),_:2},1024),r(s,{class:"card-content"},{default:c(()=>[r(x,{class:"content-text"},{default:c(()=>[f(k(e.content),1)]),_:2},1024)]),_:2},1024),r(s,{class:"card-footer"},{default:c(()=>[r(s,{class:"time-info"},{default:c(()=>[r(l,{name:"time",size:"24rpx",color:"#94A3B8"}),r(x,null,{default:c(()=>[f(k(e.time),1)]),_:2},1024)]),_:2},1024)]),_:2},1024),e.reply?(i(),t(s,{key:0,class:"reply-box"},{default:c(()=>[r(s,{class:"reply-header"},{default:c(()=>[r(x,{class:"reply-label"},{default:c(()=>[f("物业回复：")]),_:1}),r(x,{class:"reply-time"},{default:c(()=>[f(k(e.replyTime),1)]),_:2},1024)]),_:2},1024),r(x,{class:"reply-content"},{default:c(()=>[f(k(e.reply),1)]),_:2},1024),e.rating?(i(),t(s,{key:0,class:"rating-box"},{default:c(()=>[r(x,null,{default:c(()=>[f("评分：")]),_:1}),r(s,{class:"stars"},{default:c(()=>[(i(),p(y,null,m(5,a=>r(l,{key:a,name:"star-filled",size:"24rpx",color:a<=e.rating?"#F59E0B":"#E2E8F0"},null,8,["color"])),64))]),_:2},1024)]),_:2},1024)):b("",!0)]),_:2},1024)):b("",!0)]),_:2},1032,["style"]))),128)),r(s,{class:"list-end"},{default:c(()=>[r(x,null,{default:c(()=>[f("没有更多了")]),_:1})]),_:1})]),_:1})):(i(),t(s,{key:2,class:"empty-state"},{default:c(()=>[r(s,{class:"empty-illust"},{default:c(()=>[r(s,{class:"building-base"},{default:c(()=>[r(s,{class:"window"}),r(s,{class:"window"}),r(s,{class:"window"})]),_:1}),r(s,{class:"cloud c1"}),r(s,{class:"cloud c2"})]),_:1}),r(x,{class:"empty-text"},{default:c(()=>[f("暂无数据")]),_:1})]),_:1}))]),_:1}),r(C,{activePath:"pages/index/index"})]),_:1})}}}),[["__scopeId","data-v-059880b3"]]);export{A as default};
