import{d as a,r as t,c as e,b as l,w as s,i as u,e as o,f as c,j as i,k as n,l as r,m as d,t as f,B as v,n as p,F as _,p as m,x as b,v as g,Q as k,G as y,z as h}from"./index-PUK5Iwtz.js";import{_ as x}from"./navbar.COTAEQY7.js";import{_ as j,a as w}from"./icon.CJOHyHK1.js";import{_ as C,a as F}from"./picker.n8KcBAOD.js";import"./parent-map.DLFD9qfo.js";import"./relation.DOrZf5Wr.js";import"./popup.DXni-6bZ.js";const S=w(a({__name:"fund-usage-list",setup(a){const w=t("2026"),S=t("01"),z=t(!1),B=[{label:"2026年",value:"2026"},{label:"2025年",value:"2025"},{label:"2024年",value:"2024"}],$=Array.from({length:12},(a,t)=>({label:`${String(t+1).padStart(2,"0")}月`,value:String(t+1).padStart(2,"0")})),E=t([{title:"1号楼电梯钢丝绳更换工程",date:"2026-01-15",status:"进行中",amount:"4.50",description:"针对1号楼1单元电梯运行异响，经检测需更换主提升钢丝绳。"},{title:"小区监控系统升级改造",date:"2026-01-20",status:"已公示",amount:"2.80",description:"小区原有监控系统清晰度不足，升级为全数字高清监控系统。"},{title:"地库排水泵检修",date:"2026-01-05",status:"已完成",amount:"0.65",description:"雨季前对负二层排水泵进行全面拆解维护与密封件更换。"},{title:"2号楼外墙脱落维修",date:"2025-12-12",status:"已完成",amount:"1.20",description:"对2号楼西侧外墙保温层空鼓、脱落区域进行铲除及重新铺装。"},{title:"小区消防管道渗漏维修",date:"2025-11-28",status:"已完成",amount:"0.85",description:"消防管网压力下降，排查并修复3处地下埋地管网渗漏点。"},{title:"单元门禁系统维护",date:"2025-10-15",status:"已完成",amount:"0.45"},{title:"屋面防水补强工程",date:"2025-09-20",status:"已完成",amount:"1.65"},{title:"生活水泵房变频器更换",date:"2025-08-10",status:"已完成",amount:"0.35"}]),G=e(()=>{const a=`${w.value}-${S.value}`;return E.value.filter(t=>t.date.startsWith(a))}),A=e(()=>G.value.reduce((a,t)=>a+parseFloat(t.amount),0).toFixed(2)),H=e(()=>G.value.length),I=()=>{y()},O=a=>{w.value=a.value[0],S.value=a.value[1],z.value=!1},Q=a=>{switch(a){case"进行中":return"ongoing";case"已完成":return"completed";case"已公示":return"posted";default:return""}};return(a,t)=>{const e=o(c("t-navbar"),x),y=r,E=u,R=o(c("t-icon"),j),T=v,U=o(c("t-picker-item"),C),W=o(c("t-picker"),F);return i(),l(E,{class:"page-container"},{default:s(()=>[n(e,{title:"维修资金使用明细","left-arrow":"",delta:0,onGoBack:I,fixed:!0,class:"custom-navbar"}),n(E,{class:"stats-card"},{default:s(()=>[n(E,{class:"stats-item"},{default:s(()=>[n(y,{class:"label"},{default:s(()=>[d("使用总额 (万元)")]),_:1}),n(y,{class:"value"},{default:s(()=>[d(f(A.value),1)]),_:1})]),_:1}),n(E,{class:"stats-divider"}),n(E,{class:"stats-item"},{default:s(()=>[n(y,{class:"label"},{default:s(()=>[d("使用次数 (次)")]),_:1}),n(y,{class:"value"},{default:s(()=>[d(f(H.value),1)]),_:1})]),_:1})]),_:1}),n(E,{class:"filter-bar"},{default:s(()=>[n(E,{class:"date-picker",onClick:t[0]||(t[0]=a=>z.value=!0)},{default:s(()=>[n(y,null,{default:s(()=>[d(f(w.value)+"年"+f(S.value)+"月",1)]),_:1}),n(R,{name:"caret-down-small",size:"32rpx",color:"#64748B"})]),_:1}),n(E,{class:"total-count"},{default:s(()=>[d("共 "+f(G.value.length)+" 条记录",1)]),_:1})]),_:1}),n(T,{"scroll-y":"",class:"list-scroll"},{default:s(()=>[G.value.length>0?(i(),l(E,{key:0,class:"usage-list"},{default:s(()=>[(i(!0),p(_,null,m(G.value,(a,t)=>(i(),l(E,{key:t,class:"usage-card"},{default:s(()=>[n(E,{class:"card-header"},{default:s(()=>[n(E,{class:"title-section"},{default:s(()=>[n(E,{class:"type-dot"}),n(y,{class:"title"},{default:s(()=>[d(f(a.title),1)]),_:2},1024)]),_:2},1024),n(y,{class:"amount"},{default:s(()=>[d("-"+f(a.amount)+"万",1)]),_:2},1024)]),_:2},1024),n(E,{class:"card-body"},{default:s(()=>[n(E,{class:"info-row"},{default:s(()=>[n(y,{class:"label"},{default:s(()=>[d("使用时间：")]),_:1}),n(y,{class:"value"},{default:s(()=>[d(f(a.date),1)]),_:2},1024)]),_:2},1024),n(E,{class:"info-row"},{default:s(()=>[n(y,{class:"label"},{default:s(()=>[d("当前状态：")]),_:1}),n(y,{class:b(["status-tag",Q(a.status)])},{default:s(()=>[d(f(a.status),1)]),_:2},1032,["class"])]),_:2},1024),a.description?(i(),l(E,{key:0,class:"info-row"},{default:s(()=>[n(y,{class:"label"},{default:s(()=>[d("项目摘要：")]),_:1}),n(y,{class:"value"},{default:s(()=>[d(f(a.description),1)]),_:2},1024)]),_:2},1024)):g("",!0)]),_:2},1024),n(E,{class:"card-footer"},{default:s(()=>[n(E,{class:"action-btn",onClick:a=>{h({title:"跳转至公示详情",icon:"none"})}},{default:s(()=>[n(y,null,{default:s(()=>[d("查看工程公示")]),_:1}),n(R,{name:"chevron-right",size:"28rpx",color:"#3B82F6"})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024))),128)),n(E,{class:"no-more"},{default:s(()=>[d("没有更多数据了")]),_:1})]),_:1})):(i(),l(E,{key:1,class:"empty-state"},{default:s(()=>[n(R,{name:"info-circle",size:"120rpx",color:"#E2E8F0"}),n(y,{class:"empty-text"},{default:s(()=>[d(f(w.value)+"年度暂无维修资金使用记录",1)]),_:1})]),_:1}))]),_:1}),n(W,{visible:z.value,"onUpdate:visible":t[1]||(t[1]=a=>z.value=a),value:[w.value,S.value],title:"选择日期","cancel-btn":"取消","confirm-btn":"确定",onConfirm:O,onCancel:t[2]||(t[2]=a=>z.value=!1)},{default:s(()=>[n(U,{options:B}),n(U,{options:k($)},null,8,["options"])]),_:1},8,["visible","value"])]),_:1})}}}),[["__scopeId","data-v-09ac5bb9"]]);export{S as default};
