import{j as t,b as e,w as s,k as o,i as a,x as n,R as l,l as i,m as r,t as c,s as d,n as u,F as f,v as h}from"./index-8WK0Ux_r.js";import{u as b,p,e as g,t as x,h as m,a as y}from"./icon.CNXA9uzs.js";const C={color:{type:String,default:""},content:{type:String,default:""},count:{type:[String,Number],default:0},dot:Boolean,maxCount:{type:Number,default:99},offset:{type:Array},shape:{type:String,default:"circle",validator:t=>!t||["circle","square","bubble","ribbon","ribbon-right","ribbon-left","triangle-right","triangle-left"].includes(t)},showZero:Boolean,size:{type:String,default:"medium",validator:t=>!t||["medium","large"].includes(t)}},_=function(t){return t.indexOf("px")>0||t.indexOf("rpx")>0||t.indexOf("em")>0||t.indexOf("rem")>0||t.indexOf("%")>0||t.indexOf("vh")>0||t.indexOf("vm")>0},$=`${p}-badge`,v=m("badge");const I=y(b({name:$,options:{styleIsolation:"shared"},externalClasses:[`${p}-class`,`${p}-class-count`,`${p}-class-content`],props:{...C},data:()=>({prefix:p,classPrefix:$,value:"",labelID:"",descriptionID:"",tools:x,useOuterClass:!1}),computed:{hasChild(){var t;return!!(null==(t=this.$slots)?void 0:t.default)}},mounted(){const t=v();this.labelID=`${t}_label`,this.descriptionID=`${t}_description`,this.checkForActualContent()},methods:{getBadgeValue:function(t){return t.dot?"":isNaN(t.count)||isNaN(t.maxCount)?t.count:parseInt(t.count,10)>t.maxCount?`${t.maxCount}+`:t.count},getBadgeStyles:function(t){var e,s;let o="";return t.color&&(o+=`background:${t.color};`),(null==(e=t.offset)?void 0:e[0])&&(o+=`left: calc(100% + ${_(t.offset[0].toString())?t.offset[0]:`${t.offset[0]}px`});`),(null==(s=t.offset)?void 0:s[1])&&(o+=`top:${_(t.offset[1].toString())?t.offset[1]:`${t.offset[1]}px`};`),o},getBadgeInnerClass:function(t){const e=t.classPrefix;return[`${e}--basic`,t.dot?`${e}--dot`:"",`${e}--${t.size}`,`${e}--${t.shape}`,t.dot?"":`${e}--count`].join(" ")},isShowBadge:function(t){return!!t.dot||!(!t.showZero&&!isNaN(t.count)&&0===parseInt(t.count,10))&&null!=t.count},checkForActualContent(){if(!this.content&&["ribbon","ribbon-right","ribbon-left","triangle-right","triangle-left"].includes(this.shape))return g(this,`.${$}__content`).then(t=>{const e=t.width>0||t.height>0;this.useOuterClass=!e});this.useOuterClass=!1}}}),[["render",function(b,p,g,x,m,y){const C=i,_=a;return t(),e(_,{style:d(b.tools._style([b.customStyle])),class:n(b.classPrefix+" "+(b.useOuterClass?b.classPrefix+"__"+b.shape+"-outer":"")+b.tClass),"aria-labelledby":b.labelID,"aria-describedby":b.descriptionID,"aria-role":b.ariaRole||"option"},{default:s(()=>[o(_,{id:b.labelID,class:n(b.tools.cls(b.classPrefix+"__content",[["empty",!b.content&&!b.hasChild]])+" "+b.tClassContent),"aria-hidden":!0},{default:s(()=>[b.content?(t(),e(C,{key:1,class:n(b.classPrefix+"__content-text")},{default:s(()=>[r(c(b.content),1)]),_:1},8,["class"])):l(b.$slots,"default",{key:0,class:n(b.classPrefix+"__content-slot")},void 0,!0)]),_:3},8,["id","class"]),b.isShowBadge({dot:b.dot,count:b.count,showZero:b.showZero})||null===b.count?(t(),e(_,{key:0,id:b.descriptionID,"aria-hidden":!0,"aria-label":b.ariaLabel||b.tools.getBadgeAriaLabel({dot:b.dot,count:b.count,maxCount:b.maxCount}),class:n([b.getBadgeInnerClass({classPrefix:b.classPrefix,dot:b.dot,size:b.size,shape:b.shape,count:b.count})+" "+b.prefix+"-has-count ",b.tClassCount]),style:d(b.tools._style([b.getBadgeStyles({color:b.color,offset:b.offset})]))},{default:s(()=>[o(_,{class:n(b.classPrefix+"__count")},{default:s(()=>[b.isShowBadge({dot:b.dot,count:b.count,showZero:b.showZero})?(t(),u(f,{key:0},[r(c(b.getBadgeValue({dot:b.dot,count:b.count,maxCount:b.maxCount})),1)],64)):h("",!0),l(b.$slots,"count",{},void 0,!0)]),_:3},8,["class"])]),_:3},8,["id","aria-label","class","style"])):h("",!0)]),_:3},8,["style","class","aria-labelledby","aria-describedby","aria-role"])}],["__scopeId","data-v-19eacedd"]]);export{I as _};
