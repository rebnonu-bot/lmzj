import{d as a,r as l,g as e,a as s,c as t,b as u,w as i,i as c,e as n,f as o,j as d,k as f,l as m,m as r,t as _,n as v,F as p,p as b,x as y,v as k,B as g,s as h,A as x,E as F,G as z,H as C,y as j,z as B}from"./index-8WK0Ux_r.js";import{_ as w,a as D}from"./icon.CNXA9uzs.js";import{_ as H}from"./app-footer.ZfEswbZz.js";import{_ as E}from"./app-tab-bar.DbT_--yF.js";import{_ as N}from"./dialog.D6YXzNS-.js";import"./button.DZeDtYJC.js";import"./loading.CTjU6Yd3.js";import"./popup.C-z1-a1n.js";const I=D(a({__name:"fund",setup(a){var D;const I=l(0),A=["基本情况","维修公示","房屋分摊"],G=l(!0),J=l(e("selectedHouse")||"阳光水岸一期 1-1-802"),K=l(!1),M=l(!1),O=[{label:"阳光水岸一期 1-1-802",value:"阳光水岸一期 1-1-802",community:"阳光水岸",area:"124.50"},{label:"阳光水岸二期 5-1-1202",value:"阳光水岸二期 5-1-1202",community:"阳光水岸",area:"98.60"},{label:"亚运城天成一期 2-1-1503",value:"亚运城天成一期 2-1-1503",community:"亚运城天成",area:"115.80"},{label:"翡翠江景 3-2-1501",value:"翡翠江景 3-2-1501",community:"翡翠江景",area:"142.00"}],P={"阳光水岸":{total:245.82,list:[{id:"1",title:"1-3栋电梯主板更换维修",date:"2026-01-15",amount:"1.25",status:"已完成"},{id:"2",title:"5栋消防泵维修",date:"2025-12-20",amount:"0.85",status:"已完成"},{id:"3",title:"小区监控系统局部升级",date:"2025-11-05",amount:"3.42",status:"已完成"},{id:"4",title:"2栋外墙瓷砖脱落修复",date:"2025-10-12",amount:"0.68",status:"已完成"},{id:"5",title:"地下车库排水管更换",date:"2025-09-28",amount:"1.15",status:"已完成"},{id:"6",title:"7栋顶层防水补漏",date:"2025-08-15",amount:"2.30",status:"已完成"}]},"亚运城天成":{total:186.5,list:[{id:"101",title:"天成一期电梯钢丝绳更换",date:"2026-01-20",amount:"2.10",status:"已完成"},{id:"102",title:"路灯线路全面检修",date:"2025-12-10",amount:"0.45",status:"已完成"},{id:"103",title:"消防控制柜显示屏维修",date:"2025-11-15",amount:"0.32",status:"已完成"}]},"翡翠江景":{total:512.4,list:[{id:"201",title:"景观喷泉水泵更换",date:"2026-01-05",amount:"0.75",status:"已完成"},{id:"202|",title:"二次供水设备维护",date:"2025-12-28",amount:"1.50",status:"已完成"}]}},S=()=>{x({url:"/pages/fund/fund-usage-list"})},T=()=>{x({url:"/pages/fund/fund-publicity-list"})},U=()=>{F().length>1?z():C({url:"/pages/index/index"})},$=()=>{M.value=!0},q=l((null==(D=P["阳光水岸"])?void 0:D.list)||[]);s(()=>{setTimeout(()=>{G.value=!1},800);const a=J.value,l=O.find(l=>l.value===a);if(l){const e=l.community||(a.includes("阳光水岸")?"阳光水岸":"翡翠江景"),s=P[e];s&&(q.value=s.list)}});const L=t(()=>{const a=J.value.includes("阳光水岸")?"阳光水岸":"翡翠江景",l=P[a],e=l?l.total:245.82,s=q.value.reduce((a,l)=>a+parseFloat(l.amount),0);return{total:e.toFixed(2),used:s.toFixed(2),times:q.value.length.toString()}}),Q=t(()=>(parseFloat(L.value.total)-parseFloat(L.value.used)).toFixed(2)),R=t(()=>K.value?q.value:q.value.slice(0,5)),V=l(25),W=t(()=>(parseFloat(X.value.area)*V.value).toFixed(2)),X=t(()=>{const a=J.value,l=O.find(l=>l.value===a);return{houseName:a,area:l?l.area:"124.50"}});return(a,l)=>{const e=n(o("t-icon"),w),s=c,t=m,x=g,F=n(o("app-footer"),H),z=n(o("app-tab-bar"),E),C=n(o("t-dialog"),N);return d(),u(s,{class:"page-container"},{default:i(()=>[f(s,{class:"header-section"},{default:i(()=>[f(s,{class:"header-top"},{default:i(()=>[f(s,{class:"back-btn",onClick:U},{default:i(()=>[f(e,{name:"chevron-left",size:"48rpx",color:"#fff"})]),_:1})]),_:1}),f(s,{class:"header-main"},{default:i(()=>[f(s,{class:"title-box"},{default:i(()=>[f(t,{class:"main-title"},{default:i(()=>[r("住宅专项维修资金")]),_:1}),f(t,{class:"sub-title"},{default:i(()=>[r("公开透明可监督")]),_:1}),f(s,{class:"house-info",onClick:$},{default:i(()=>[f(e,{name:"refresh",size:"28rpx",color:"#fff",class:"swap-icon"}),f(t,null,{default:i(()=>[r(_(J.value),1)]),_:1})]),_:1})]),_:1}),f(s,{class:"header-illustration"},{default:i(()=>[f(s,{class:"illust-card card1"}),f(s,{class:"illust-card card2"}),f(s,{class:"illust-coin"})]),_:1})]),_:1}),f(s,{class:"decor-circle"})]),_:1}),f(s,{class:"tabs-container"},{default:i(()=>[(d(),v(p,null,b(A,(a,l)=>f(s,{key:l,class:y(["tab-item",{active:I.value===l}]),onClick:a=>I.value=l},{default:i(()=>[f(t,null,{default:i(()=>[r(_(a),1)]),_:2},1024),I.value===l?(d(),u(s,{key:0,class:"active-bar"})):k("",!0)]),_:2},1032,["class","onClick"])),64))]),_:1}),f(x,{"scroll-y":"",class:"content-scroll"},{default:i(()=>[G.value?(d(),u(s,{key:0,class:"tab-content skeleton-list"},{default:i(()=>[f(s,{class:"skeleton-card info-skel"},{default:i(()=>[(d(),v(p,null,b(4,a=>f(s,{key:a,class:"info-item-skel"},{default:i(()=>[f(s,{class:"skeleton-item label-skel"}),f(s,{class:"skeleton-item value-skel"})]),_:2},1024)),64))]),_:1}),f(s,{class:"skeleton-card calc-skel"},{default:i(()=>[f(s,{class:"skeleton-item title-skel"}),f(s,{class:"skeleton-item line-skel"}),f(s,{class:"skeleton-item line-skel"})]),_:1}),f(s,{class:"skeleton-card list-skel"},{default:i(()=>[f(s,{class:"skeleton-item title-skel"}),(d(),v(p,null,b(3,a=>f(s,{key:a,class:"list-item-skel"},{default:i(()=>[f(s,{class:"skeleton-item dot-skel"}),f(s,{class:"skeleton-item content-skel"})]),_:2},1024)),64))]),_:1})]),_:1})):0===I.value?(d(),u(s,{key:1,class:"tab-content"},{default:i(()=>[f(s,{class:"info-card animate-slide-up",style:{"animation-delay":"0.1s"}},{default:i(()=>[f(s,{class:"info-item"},{default:i(()=>[f(t,{class:"label"},{default:i(()=>[r("小区维修资金总额")]),_:1}),f(s,{class:"value-box"},{default:i(()=>[f(t,{class:"value"},{default:i(()=>[r(_(L.value.total),1)]),_:1}),f(t,{class:"unit"},{default:i(()=>[r("万元")]),_:1})]),_:1})]),_:1}),f(s,{class:"info-item"},{default:i(()=>[f(t,{class:"label"},{default:i(()=>[r("维修资金使用金额")]),_:1}),f(s,{class:"value-box"},{default:i(()=>[f(t,{class:"value"},{default:i(()=>[r(_(L.value.used),1)]),_:1}),f(t,{class:"unit"},{default:i(()=>[r("万元")]),_:1})]),_:1})]),_:1}),f(s,{class:"info-item"},{default:i(()=>[f(t,{class:"label"},{default:i(()=>[r("维修资金可用余额")]),_:1}),f(s,{class:"value-box"},{default:i(()=>[f(t,{class:"value primary-color"},{default:i(()=>[r(_(Q.value),1)]),_:1}),f(t,{class:"unit primary-color"},{default:i(()=>[r("万元")]),_:1})]),_:1})]),_:1}),f(s,{class:"info-item"},{default:i(()=>[f(t,{class:"label"},{default:i(()=>[r("维修资金使用次数")]),_:1}),f(s,{class:"value-box"},{default:i(()=>[f(t,{class:"value"},{default:i(()=>[r(_(L.value.times),1)]),_:1}),f(t,{class:"unit"},{default:i(()=>[r("次")]),_:1})]),_:1})]),_:1})]),_:1}),f(s,{class:"calc-info-box animate-slide-up",style:{"animation-delay":"0.2s"}},{default:i(()=>[f(s,{class:"calc-title"},{default:i(()=>[f(e,{name:"info-circle",size:"28rpx",color:"#3B82F6"}),f(t,null,{default:i(()=>[r("数据计算方式")]),_:1})]),_:1}),f(s,{class:"calc-item"},{default:i(()=>[f(t,{class:"c-label"},{default:i(()=>[r("已用金额 = ")]),_:1}),f(t,{class:"c-value"},{default:i(()=>[r("Σ 维修公示列表各项目金额 (共"+_(L.value.times)+"项)",1)]),_:1})]),_:1}),f(s,{class:"calc-item"},{default:i(()=>[f(t,{class:"c-label"},{default:i(()=>[r("可用余额 = ")]),_:1}),f(t,{class:"c-value"},{default:i(()=>[r("总额 ("+_(L.value.total)+"万) - 已用 ("+_(L.value.used)+"万)",1)]),_:1})]),_:1})]),_:1}),f(s,{class:"usage-section animate-slide-up",style:{"animation-delay":"0.3s"}},{default:i(()=>[f(s,{class:"section-title"},{default:i(()=>[r("维修资金使用情况")]),_:1}),f(s,{class:"usage-list"},{default:i(()=>[(d(!0),v(p,null,b(R.value,(a,l)=>(d(),u(s,{class:"usage-item animate-fade-in",key:l,style:h({animationDelay:.4+.05*l+"s"})},{default:i(()=>[f(s,{class:"usage-dot"}),f(s,{class:"usage-info"},{default:i(()=>[f(t,{class:"usage-name"},{default:i(()=>[r(_(a.title),1)]),_:2},1024),f(t,{class:"usage-time"},{default:i(()=>[r(_(a.date),1)]),_:2},1024)]),_:2},1024),f(t,{class:"usage-amount"},{default:i(()=>[r("-"+_(a.amount)+"万",1)]),_:2},1024)]),_:2},1032,["style"]))),128))]),_:1}),q.value.length>5?(d(),u(s,{key:0,class:"view-more animate-fade-in",style:{"animation-delay":"0.7s"},onClick:S},{default:i(()=>[f(t,null,{default:i(()=>[r("查看更多明细")]),_:1}),f(e,{name:"chevron-right",size:"24rpx",color:"#3B82F6"})]),_:1})):(d(),u(s,{key:1,class:"empty-state animate-fade-in"},{default:i(()=>[f(e,{name:"info-circle",size:"64rpx",color:"#CBD5E1"}),f(t,null,{default:i(()=>[r("暂无详细使用记录")]),_:1})]),_:1}))]),_:1})]),_:1})):1===I.value?(d(),u(s,{key:2,class:"tab-content"},{default:i(()=>[(d(!0),v(p,null,b(q.value.slice(0,5),(a,l)=>(d(),u(s,{class:"publicity-card animate-slide-up",key:l,style:h({animationDelay:.1*l+"s"})},{default:i(()=>[f(s,{class:"publicity-header"},{default:i(()=>[f(t,{class:"publicity-title"},{default:i(()=>[r(_(a.title),1)]),_:2},1024),f(s,{class:y(["status-tag","进行中"===a.status?"ongoing":"completed"])},{default:i(()=>[r(_(a.status),1)]),_:2},1032,["class"])]),_:2},1024),f(s,{class:"publicity-body"},{default:i(()=>[f(s,{class:"publicity-row"},{default:i(()=>[f(t,{class:"p-label"},{default:i(()=>[r("公示时间：")]),_:1}),f(t,{class:"p-value"},{default:i(()=>[r(_(a.date),1)]),_:2},1024)]),_:2},1024),f(s,{class:"publicity-row"},{default:i(()=>[f(t,{class:"p-label"},{default:i(()=>[r("预估金额：")]),_:1}),f(t,{class:"p-value highlight"},{default:i(()=>[r("¥"+_(a.amount)+" 万元",1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["style"]))),128)),q.value.length>5?(d(),u(s,{key:0,class:"view-more-btn animate-fade-in",style:{"animation-delay":"0.6s"},onClick:T},{default:i(()=>[f(t,null,{default:i(()=>[r("查看更多公示")]),_:1}),f(e,{name:"chevron-right",size:"32rpx"})]),_:1})):k("",!0)]),_:1})):2===I.value?(d(),u(s,{key:3,class:"tab-content"},{default:i(()=>[f(s,{class:"allocation-card animate-slide-up",style:{"animation-delay":"0.1s"}},{default:i(()=>[f(s,{class:"allocation-header"},{default:i(()=>[f(e,{name:"home",size:"40rpx",color:"#3B82F6"}),f(t,{class:"house-name"},{default:i(()=>[r(_(X.value.houseName),1)]),_:1})]),_:1}),f(s,{class:"allocation-grid"},{default:i(()=>[f(s,{class:"allocation-item"},{default:i(()=>[f(t,{class:"a-label"},{default:i(()=>[r("房屋面积")]),_:1}),f(t,{class:"a-value"},{default:i(()=>[r(_(X.value.area)+" ㎡",1)]),_:1})]),_:1}),f(s,{class:"allocation-item"},{default:i(()=>[f(t,{class:"a-label"},{default:i(()=>[r("可用余额")]),_:1}),f(t,{class:"a-value primary"},{default:i(()=>[r(_(W.value)+" 元",1)]),_:1})]),_:1})]),_:1})]),_:1}),f(s,{class:"calc-info-box animate-slide-up",style:{"animation-delay":"0.2s"}},{default:i(()=>[f(s,{class:"calc-title"},{default:i(()=>[f(e,{name:"info-circle",size:"28rpx",color:"#3B82F6"}),f(t,null,{default:i(()=>[r("个人余额计算方式")]),_:1})]),_:1}),f(s,{class:"calc-item"},{default:i(()=>[f(t,{class:"c-label"},{default:i(()=>[r("交存标准 = ")]),_:1}),f(t,{class:"c-value"},{default:i(()=>[r(_(V.value)+" 元/㎡ (根据当地政策)",1)]),_:1})]),_:1}),f(s,{class:"calc-item"},{default:i(()=>[f(t,{class:"c-label"},{default:i(()=>[r("可用余额 = ")]),_:1}),f(t,{class:"c-value"},{default:i(()=>[r("房屋面积 ("+_(X.value.area)+"㎡) × 标准 ("+_(V.value)+"元/㎡) = "+_(W.value)+" 元",1)]),_:1})]),_:1})]),_:1}),f(s,{class:"tips-box animate-fade-in",style:{"animation-delay":"0.4s"}},{default:i(()=>[f(e,{name:"info-circle",size:"32rpx",color:"#64748B"}),f(t,null,{default:i(()=>[r("维修资金由赣州市住建局代管，公开透明。")]),_:1})]),_:1})]),_:1})):k("",!0)]),_:1}),f(F),f(z,{activePath:"pages/index/index"}),f(C,{visible:M.value,"onUpdate:visible":l[0]||(l[0]=a=>M.value=a),title:"选择房屋","confirm-btn":null,"cancel-btn":null},{content:i(()=>[f(s,{class:"house-list"},{default:i(()=>[(d(),v(p,null,b(O,(a,l)=>f(s,{key:l,class:y(["house-item",{active:J.value===a.value}]),onClick:l=>(a=>{const l=a.label||a.value;J.value=l,j("selectedHouse",l),M.value=!1;const e=a.community||(l.includes("阳光水岸")?"阳光水岸":"翡翠江景"),s=P[e];s&&(q.value=s.list),B({title:`已切换至 ${l}`,icon:"none"})})(a)},{default:i(()=>[f(s,{class:"house-item-content"},{default:i(()=>[f(e,{name:J.value===a.value?"check-circle-filled":"circle",color:J.value===a.value?"#3B82F6":"#CBD5E1",size:"40rpx"},null,8,["name","color"]),f(t,{class:"house-label"},{default:i(()=>[r(_(a.label),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["class","onClick"])),64))]),_:1})]),_:1},8,["visible"])]),_:1})}}}),[["__scopeId","data-v-7b9c70ec"]]);export{I as default};
