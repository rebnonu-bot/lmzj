import{a0 as e,a1 as t,a2 as n,a3 as r,a4 as s,E as o,j as a,b as i,w as l,i as c,x as u,k as p,K as f,v as y,n as d,s as h}from"./index-PUK5Iwtz.js";function m(e){return!(e=>void 0===e)(e)&&!(e=>null===e)(e)}function g(e){return"boolean"==typeof e}function b(e){const t=typeof e;return null!==e&&("object"===t||"function"===t)}const S=(e,t)=>new Promise(n=>{r(e,{nativeMode:!0}).relativeToViewport().observe(t,e=>{n(e)})});function $(e,t){e=e.split("."),t=t.split(".");const n=Math.max(e.length,t.length);for(;e.length<n;)e.push("0");for(;t.length<n;)t.push("0");for(let r=0;r<n;r+=1){const n=parseInt(e[r],10),s=parseInt(t[r],10);if(n>s)return 1;if(n<s)return-1}return 0}function v(){let e=!1;return e=!0,true}const x="t",j=e&&e()||uni.getSystemInfoSync(),A=t&&t()||uni.getSystemInfoSync(),k=n&&n()||uni.getSystemInfoSync();function C(...e){for(let t=0;t<e.length;t+=1)if(null!==e[t]&&void 0!==e[t])return e[t];return e[e.length-1]}const I=function(e,t,n=!1,r=!1){var o;let a;return r&&(a=null==(o=document[n?"querySelectorAll":"querySelector"](t))?void 0:o.getBoundingClientRect()),a||new Promise((r,o)=>{s().in(e)[n?"selectAll":"select"](t).boundingClientRect(e=>{e?r(e):o(e)}).exec()})};null==k||k.environment,["mac","windows"].includes(null==k?void 0:k.platform);const w=function(e){if(m(e))return function(e){return!Number.isNaN(Number(e))}(e=String(e))?`${e}px`:e},N=(e,t,n)=>{const r=String(C(t,""));if(0===r.length)return{length:0,characters:""};if("maxcharacter"===e){let e=0;for(let t=0;t<r.length;t+=1){let s=0;if(s=r.charCodeAt(t)>127||94===r.charCodeAt(t)?2:1,e+s>n)return{length:e,characters:r.slice(0,t)};e+=s}return{length:e,characters:r}}if("maxlength"===e){const e=r.length>n?n:r.length;return{length:e,characters:r.slice(0,e)}}return{length:r.length,characters:r}},O=(e,t,n)=>t?"string"==typeof t?{[`${e}Name`]:t,[`${e}Data`]:{}}:"object"==typeof t?{[`${e}Name`]:"",[`${e}Data`]:t}:{[`${e}Name`]:n,[`${e}Data`]:{}}:{[`${e}Name`]:"",[`${e}Data`]:{}},_=e=>e.replace(/-(\w)/g,(e,t)=>t.toUpperCase());const P=function(){const e=o();return e[e.length-1]},B=e=>{let t=0;return()=>{const n=`${x}_${e}_${t}`;return t+=1,n}},E=(e,t)=>e&&(g(e)&&t||"string"==typeof e)?{name:g(e)?t:e}:b(e)?e:null,L=()=>new Promise(e=>{setTimeout(()=>{e()},33)}),z=e=>`data${e.replace(/^(\w)/,(e,t)=>t.toUpperCase())}`,R=e=>`default${e.replace(/^(\w)/,(e,t)=>t.toUpperCase())}`,D=[{key:"ariaHidden",type:Boolean},{key:"ariaRole",type:String},{key:"ariaLabel",type:String},{key:"ariaLabelledby",type:String},{key:"ariaDescribedby",type:String},{key:"ariaBusy",type:Boolean}],U=(e,t=!1)=>!(e===Boolean&&!t)&&(e===String?"":void 0),q={...D.reduce((e,t)=>({...e,[t.key]:{type:t.type,default:U(t.type)}}),{}),customStyle:{type:[String,Object],default:""}},F=function(e){!e.properties&&e.props&&(e.properties=e.props),e.properties&&Object.keys(e.properties).forEach(t=>{let n=e.properties[t];var r;(null===(r=n)||"object"!=typeof r||"[object Object]"!==Object.prototype.toString.call(r))&&(n={type:n}),e.properties[t]=n}),e.methods||(e.methods={}),e.lifetimes||(e.lifetimes={});const t=e.created,{controlledProps:n=[]}=e;return e.created=function(...e){t&&t.apply(this,e),n.forEach(({key:e})=>{const t=R(e),n=z(e);this[n]=this[e],null==this[e]&&(this._selfControlled=!0),null==this[e]&&null!=this[t]&&(this[n]=this[t])})},e.methods._trigger=function(e,t,r){const s=n.find(t=>t.event===e);if(s){const{key:e}=s;if(this._selfControlled){this[z(e)]=t[e]}this.$emit(`update:${e}`,t[e],r)}this.$emit(e,t,r)},e};const H=function(e){const{newProps:t,emits:n}=function(e,t){const n={},r=[],s=/^on[A-Z][a-z]/,o=Object.values(t).map(e=>e.key),a=o.map(e=>R(e));return Object.keys(e).forEach(t=>{const i=e[t].type||e[t];if(s.test(t)&&e[t].type===Function){const e=t.replace(/^on/,""),n=e.charAt(0).toLowerCase()+e.slice(1);r.push(function(e){return e.replace(/\B([A-Z])/g,"-$1").toLowerCase()}(n),n)}else if(o.indexOf(t)>-1||a.indexOf(t)>-1){const e=Array.isArray(i)?i:[i];n[t]={type:[null,...e],default:null}}else[Boolean,String].indexOf(e[t].type)>-1&&void 0===e[t].default?n[t]={...e[t],default:U(e[t].type,!0)}:n[t]={..."object"==typeof e[t]?e[t]:{},type:(l=i,Array.isArray(l)?(l.sort((e,t)=>e===Boolean?-1:t===Boolean?1:0),l):l)};var l}),{newProps:n,emits:r}}(e.props||{},e.controlledProps||{});var r;e.props={...T(e),...t,...q},e.emits=Array.from(new Set([...e.emits||[],...(r=e.controlledProps||{},Object.values(r).map(e=>`update:${e.key}`)),...n])),e.options={...e.options||{},multipleSlots:!0},v()&&null==e.options.virtualHost&&(e.options.virtualHost=!0),e.options.styleIsolation||(e.options.styleIsolation="shared"),e.name&&(e.name=e.name.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(""));return F(e)};function T(e){if(!e.externalClasses)return{};const{externalClasses:t}=e;return(Array.isArray(t)?t:[t]).reduce((e,t)=>({...e,[_(t)]:{type:String,default:""}}),{})}function Z(){const e=Array.prototype.slice.call(arguments);return e.unshift(RegExp),new(Function.prototype.bind.apply(RegExp,e))}function V(e){return Array.isArray(e)}function J(e){const t=typeof e;return null!==e&&("object"===t||"function"===t)}const M={addUnit:function(e){const t=Z("^-?\\d+(.\\d+)?$");if(null!=e)return t.test(`${e}`)?`${e}px`:e},isString:function(e){return"string"==typeof e},isArray:V,isObject:J,isBoolean:function(e){return"boolean"==typeof e},isNoEmptyObj:function(e){return J(e)&&"{}"!==JSON.stringify(e)},includes:function(e,t){if(!e||!V(e))return!1;let n=0;const r=e.length;for(;n<r;n++)if(e[n]===t)return!0;return!1},cls:function(e,t){const n=[e];let r=0;for(let s=t.length;r<s;r++){const s=t[r];if(s&&Array.isArray(s)){const s=t[r][0];t[r][1]&&n.push(`${e}--${s}`)}else"string"!=typeof s&&"number"!=typeof s||s&&n.push(`${e}--${s}`)}return n.join(" ")},getBadgeAriaLabel:function(e){const t=e.maxCount||99;if(e.dot)return"有新的消息";if("..."===e.count)return"有很多消息";if(isNaN(e.count))return e.count;const n=`有${t}+条消息`,r=`有${e.count}条消息`;return Number(e.count)>t?n:r},_style:function e(t){return V(t)?t.filter(e=>null!=e&&""!==e).map(t=>{return V(t)||J(t)?e(t):(r=";",(n=t).slice(-r.length)===r?n:n+r);var n,r}).join(" "):J(t)?(n=t,JSON.stringify(n).replace(Z('{|}|"',"g"),"").split(",").map(e=>e.split(":")[0])).filter(e=>null!=t[e]&&""!==t[e]).map(e=>{return[(n=e,n.replace(Z("[A-Z]","g"),e=>`-${e}`).toLowerCase()),[t[e]]].join(":");var n}).join(";"):t;var n},isValidIconName:function(e){return Z("^[A-Za-z0-9-_]+$").test(e)}},K=(e,t)=>{const n=e.__vccOpts||e;for(const[r,s]of t)n[r]=s;return n},G=`${x}-icon`;const Q=K(H({name:G,options:{styleIsolation:"shared"},externalClasses:[`${x}-class`],props:{...{color:{type:String,default:""},name:{type:String,default:"",required:!0},prefix:{type:String,default:""},size:{type:[String,Number],default:""},onClick:{type:Function,default:()=>({})}}},data:()=>({componentPrefix:x,classPrefix:G,isImage:!1,iconStyle:void 0,tools:M}),watch:{name:{handler(){this.setIconStyle()},immediate:!0},color:{handler(){this.setIconStyle()},immediate:!0},size:{handler(){this.setIconStyle()},immediate:!0},style:{handler(){this.setIconStyle()},immediate:!0}},methods:{onTap(e){this.$emit("click",e)},setIconStyle(){const{name:e,color:t,size:n,classPrefix:r}=this,s=-1!==e.indexOf("/"),o=null!==n&&""!==n?w(n):void 0,a={...t?{color:t}:{},...n?{"font-size":o}:{}};if(this.isImage=s,s){let e=o;e||I(this,`.${r}`).then(t=>{e=w(null==t?void 0:t.height)}).catch(()=>{}),a.width=e,a.height=e}var i;this.iconStyle=`${i=a,Object.keys(i).map(e=>`${e}: ${i[e]}`).join("; ")}`}}}),[["render",function(e,t,n,r,s,o){const m=f,g=c;return a(),i(g,{class:u([e.tClass,e.prefix||"t-icon"]),style:h(e.tools._style([e.iconStyle,e.customStyle])),"aria-hidden":e.ariaHidden,"aria-label":e.ariaLabel,"aria-role":e.ariaRole,onClick:e.onTap},{default:l(()=>[e.isImage?(a(),i(g,{key:0,class:u(e.classPrefix+"--image")},{default:l(()=>[p(m,{src:e.name,mode:"aspectFit",class:u(e.classPrefix+"__image")},null,8,["src","class"])]),_:1},8,["class"])):y("",!0),e.tools.isValidIconName(e.name)&&!e.isImage?(a(),d("div",{key:1,class:u((e.prefix?e.prefix:e.classPrefix)+"-"+e.name+" "+e.classPrefix+"-base")},null,2)):y("",!0)]),_:1},8,["class","style","aria-hidden","aria-label","aria-role","onClick"])}],["__scopeId","data-v-ee83db80"]]);export{Q as _,K as a,E as b,C as c,P as d,I as e,S as f,N as g,B as h,m as i,w as j,A as k,$ as l,Z as m,L as n,O as o,x as p,_ as q,b as r,j as s,M as t,H as u,v};
