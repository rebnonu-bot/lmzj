import{d as a,r as l,c as t,b as e,w as s,i as u,e as c,f as o,j as i,k as n,l as r,m as d,t as f,n as v,F as _,p as m,x as p,B as b,Q as k,G as g,z as h}from"./index-PUK5Iwtz.js";import{_ as y}from"./navbar.COTAEQY7.js";import{_ as x,a as j}from"./icon.CJOHyHK1.js";import{_ as w,a as C}from"./picker.n8KcBAOD.js";import"./parent-map.DLFD9qfo.js";import"./relation.DOrZf5Wr.js";import"./popup.DXni-6bZ.js";const S=j(a({__name:"fund-publicity-list",setup(a){const j=l("2026"),S=l("01"),z=l(!1),B=l("all"),F=[{label:"全部",value:"all"},{label:"进行中",value:"进行中"},{label:"已完成",value:"已完成"},{label:"已公示",value:"已公示"}],$=[{label:"2026年",value:"2026"},{label:"2025年",value:"2025"},{label:"2024年",value:"2024"}],A=Array.from({length:12},(a,l)=>({label:`${String(l+1).padStart(2,"0")}月`,value:String(l+1).padStart(2,"0")})),E=l([{title:"1号楼电梯钢丝绳更换工程",date:"2026-01-15",status:"进行中",amount:"4.50"},{title:"小区监控系统升级改造",date:"2026-01-20",status:"已公示",amount:"2.80"},{title:"地库排水泵检修",date:"2026-01-05",status:"已完成",amount:"0.65"},{title:"2号楼外墙脱落维修",date:"2025-12-12",status:"已完成",amount:"1.20"},{title:"小区消防管道渗漏维修",date:"2025-11-28",status:"已完成",amount:"0.85"},{title:"单元门禁系统维护",date:"2025-10-15",status:"已完成",amount:"0.45"},{title:"屋面防水补强工程",date:"2025-09-20",status:"已完成",amount:"1.65"},{title:"生活水泵房变频器更换",date:"2025-08-10",status:"已完成",amount:"0.35"}]),G=t(()=>{const a=`${j.value}-${S.value}`;return E.value.filter(l=>{const t=l.date.startsWith(a),e="all"===B.value||l.status===B.value;return t&&e})}),H=t(()=>G.value.reduce((a,l)=>a+parseFloat(l.amount),0).toFixed(2)),I=()=>{g()},O=a=>{j.value=a.value[0],S.value=a.value[1],z.value=!1},Q=a=>{switch(a){case"进行中":return"ongoing";case"已完成":return"completed";case"已公示":return"posted";default:return""}};return(a,l)=>{const t=c(o("t-navbar"),y),g=r,E=u,R=c(o("t-icon"),x),T=b,U=c(o("t-picker-item"),w),W=c(o("t-picker"),C);return i(),e(E,{class:"page-container"},{default:s(()=>[n(t,{title:"维修公示明细","left-arrow":"",delta:0,onGoBack:I,fixed:!0,class:"custom-navbar"}),n(E,{class:"stats-card"},{default:s(()=>[n(E,{class:"stats-item"},{default:s(()=>[n(g,{class:"label"},{default:s(()=>[d("项目总数 (项)")]),_:1}),n(g,{class:"value"},{default:s(()=>[d(f(G.value.length),1)]),_:1})]),_:1}),n(E,{class:"stats-divider"}),n(E,{class:"stats-item"},{default:s(()=>[n(g,{class:"label"},{default:s(()=>[d("预估总额 (万元)")]),_:1}),n(g,{class:"value"},{default:s(()=>[d(f(H.value),1)]),_:1})]),_:1})]),_:1}),n(E,{class:"filter-container"},{default:s(()=>[n(E,{class:"filter-bar"},{default:s(()=>[n(E,{class:"date-picker",onClick:l[0]||(l[0]=a=>z.value=!0)},{default:s(()=>[n(g,null,{default:s(()=>[d(f(j.value)+"年"+f(S.value)+"月",1)]),_:1}),n(R,{name:"caret-down-small",size:"32rpx",color:"#64748B"})]),_:1}),n(E,{class:"total-count"},{default:s(()=>[d("共 "+f(G.value.length)+" 条记录",1)]),_:1})]),_:1}),n(E,{class:"status-tabs"},{default:s(()=>[(i(),v(_,null,m(F,a=>n(E,{key:a.value,class:p(["status-tab",{active:B.value===a.value}]),onClick:l=>B.value=a.value},{default:s(()=>[d(f(a.label),1)]),_:2},1032,["class","onClick"])),64))]),_:1})]),_:1}),n(T,{"scroll-y":"",class:"list-scroll"},{default:s(()=>[G.value.length>0?(i(),e(E,{key:0,class:"publicity-list"},{default:s(()=>[(i(!0),v(_,null,m(G.value,(a,l)=>(i(),e(E,{key:l,class:"publicity-card",onClick:a=>{h({title:"查看公示详情",icon:"none"})}},{default:s(()=>[n(E,{class:"card-header"},{default:s(()=>[n(g,{class:"title"},{default:s(()=>[d(f(a.title),1)]),_:2},1024),n(E,{class:p(["status-tag",Q(a.status)])},{default:s(()=>[d(f(a.status),1)]),_:2},1032,["class"])]),_:2},1024),n(E,{class:"card-body"},{default:s(()=>[n(E,{class:"info-row"},{default:s(()=>[n(g,{class:"label"},{default:s(()=>[d("公示时间：")]),_:1}),n(g,{class:"value"},{default:s(()=>[d(f(a.date),1)]),_:2},1024)]),_:2},1024),n(E,{class:"info-row"},{default:s(()=>[n(g,{class:"label"},{default:s(()=>[d("预估金额：")]),_:1}),n(g,{class:"value highlight"},{default:s(()=>[d("¥"+f(a.amount)+" 万元",1)]),_:2},1024)]),_:2},1024)]),_:2},1024),n(E,{class:"card-footer"},{default:s(()=>[n(g,{class:"view-btn"},{default:s(()=>[d("查看详情")]),_:1}),n(R,{name:"chevron-right",size:"32rpx",color:"#94A3B8"})]),_:1})]),_:2},1032,["onClick"]))),128)),n(E,{class:"no-more"},{default:s(()=>[d("已显示全部公示项目")]),_:1})]),_:1})):(i(),e(E,{key:1,class:"empty-state"},{default:s(()=>[n(R,{name:"info-circle",size:"120rpx",color:"#E2E8F0"}),n(g,{class:"empty-text"},{default:s(()=>[d(f(j.value)+"年"+f(S.value)+"月暂无维修公示记录",1)]),_:1})]),_:1}))]),_:1}),n(W,{visible:z.value,"onUpdate:visible":l[1]||(l[1]=a=>z.value=a),value:[j.value,S.value],title:"选择日期","cancel-btn":"取消","confirm-btn":"确定",onConfirm:O,onCancel:l[2]||(l[2]=a=>z.value=!1)},{default:s(()=>[n(U,{options:$}),n(U,{options:k(A)},null,8,["options"])]),_:1},8,["visible","value"])]),_:1})}}}),[["__scopeId","data-v-6f99537f"]]);export{S as default};
