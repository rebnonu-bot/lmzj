import{d as a,r as e,c as t,a as l,b as s,w as n,i,e as c,f as u,j as o,k as d,l as r,m as p,t as m,B as v,n as f,F as y,p as _,x as g,v as h,G as k,A as x,z as b,a5 as w}from"./index-PUK5Iwtz.js";import{_ as $,a as C}from"./icon.CJOHyHK1.js";import{_ as T}from"./app-footer.CtOOFdq2.js";const I=C(a({__name:"notice",setup(a){const C=e(!0),I=e(0),D=["物业服务公示","业委会公示","政府公告","其它"],M=e("阳光水岸一期"),j=e((new Date).getFullYear()),z=`${(new Date).getMonth()+1}月`,O=`${(new Date).getDate()}日`,B=e("month"),F=e(z),A=e(O),S=e("time-1"),Y=e(!0),G=()=>{Y.value&&(Y.value=!1)},H=["12月","1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],L=t(()=>{if("month"===B.value)return H;{const a=parseInt(F.value),e=new Date(j.value,a,0).getDate();return Array.from({length:e},(a,e)=>`${e+1}日`)}}),q={0:[{id:"greenery",name:"绿化养护"},{id:"cleaning",name:"环境保洁"},{id:"order",name:"公共秩序"},{id:"security",name:"治安保卫"},{id:"maintenance",name:"设施维修"},{id:"income",name:"收入公示"},{id:"expense",name:"支出公示"}],1:[{id:"contract",name:"合同公示"},{id:"income_comm",name:"收入公示"},{id:"expense_comm",name:"支出公示"},{id:"invoice",name:"票据公示"},{id:"general_major",name:"一般重大事项"},{id:"special_major",name:"特别重大事项"}],2:[{id:"policy",name:"最新政策"},{id:"notice",name:"政务通知"},{id:"guide",name:"办事指南"}],3:[{id:"activity",name:"社区活动"},{id:"other",name:"其它事项"}]},E=t(()=>q[I.value]||q[0]),J=e({"2026-greenery-1月":{status:"已完成",action:"查看报告",type:"planning"},"2026-cleaning-1月":{status:"已完成",action:"查看报告",type:"planning"},"2026-order-1月":{status:"已完成",action:"查看记录",type:"planning"},"2026-security-1月":{status:"已完成",action:"巡检报告",type:"planning"},"2026-maintenance-1月":{status:"已完成",action:"维修清单",type:"planning"},"2026-income-1月":{status:"已公示",action:"查看账目",type:"planning"},"2026-expense-1月":{status:"已公示",action:"查看明细",type:"planning"},"2026-greenery-2月":{status:"维护中",action:"查看详情",type:"applying",hot:!0},"2026-cleaning-2月":{status:"已完成",action:"查看报告",type:"planning"},"2026-order-2月":{status:"计划中",action:"查看方案",type:"planning"},"2026-security-2月":{status:"进行中",action:"实时监控",type:"applying",hot:!0},"2026-maintenance-2月":{status:"待处理",subStatus:"本月15日开始",action:"进度跟踪",type:"ending"},"2026-income-2月":{status:"已公示",action:"查看月报",type:"planning"},"2026-expense-2月":{status:"审核中",action:"查看明细",type:"applying"},"2026-greenery-2月9日":{status:"正在修剪",action:"查看现场",type:"applying",hot:!0},"2026-security-2月9日":{status:"巡逻中",action:"查看轨迹",type:"applying"},"2026-cleaning-2月8日":{status:"已完成",action:"保洁记录",type:"planning"},"2025-greenery-1月":{status:"已完成",action:"查看报告",type:"planning"},"2025-cleaning-1月":{status:"已完成",action:"查看报告",type:"planning"},"2025-order-1月":{status:"已完成",action:"查看记录",type:"planning"},"2025-greenery-12月":{status:"已完成",action:"查看报告",type:"planning"},"2025-cleaning-12月":{status:"已完成",action:"查看报告",type:"planning"},"2025-order-12月":{status:"已完成",action:"查看记录",type:"planning"},"2025-contract-12月":{status:"已归档",action:"查看合同",type:"planning"},"2025-income_comm-12月":{status:"已结算",action:"收支明细",type:"planning"},"2026-contract-1月":{status:"已签约",action:"查看合同",type:"planning"},"2026-income_comm-1月":{status:"已结算",action:"收支明细",type:"planning"},"2026-expense_comm-1月":{status:"已支付",action:"支出凭证",type:"planning"},"2026-invoice-1月":{status:"已汇总",action:"查看票据",type:"planning"},"2026-general_major-1月":{status:"已决议",action:"会议纪要",type:"planning"},"2026-special_major-1月":{status:"已备案",action:"公示文件",type:"planning"},"2026-contract-2月":{status:"履行中",action:"进度查看",type:"applying"},"2026-income_comm-2月":{status:"公示中",action:"查看详情",type:"applying",hot:!0},"2026-expense_comm-2月":{status:"待审核",action:"明细预审",type:"ending"},"2026-general_major-2月":{status:"征求意见",action:"参与投票",type:"applying",hot:!0},"2026-policy-1月":{status:"已发布",action:"查看详情",type:"planning"},"2026-activity-1月":{status:"已结束",action:"活动回顾",type:"planning"},"2026-policy-2月":{status:"已发布",action:"点击阅读",type:"planning",hot:!0},"2026-activity-2月":{status:"报名中",action:"立即参加",type:"applying",hot:!0}}),K={2:[{title:"关于进一步加强住宅专项维修资金管理的通知",source:"赣州市住房和城乡建设局",date:"2026-02-08"},{title:"2026年第一季度物业服务质量评价结果公示",source:"赣州市物业管理协会",date:"2026-02-05"},{title:"智慧社区建设标准指南（试行）",source:"江西省住房和城乡建设厅",date:"2026-01-20"}],3:[{title:"阳光水岸社区“元宵喜乐会”活动报名通知",source:"社区居委会",date:"2026-02-10"},{title:"小区公共设施维修改造意见征集公告",source:"业主委员会",date:"2026-02-09"},{title:"关于增设非机动车充电桩的进度公示",source:"物业服务中心",date:"2026-02-01"}]},N=t(()=>K[I.value]||[]);t(()=>{const a=D[I.value]||"";return a.includes("公示")?a.replace("公示","项目"):a.includes("公告")?a.replace("公告","内容"):"公示项目"}),l(()=>{setTimeout(()=>{C.value=!1,setTimeout(()=>{const a=H.lastIndexOf(z);S.value=`time-${Math.max(1,a)}`},200)},800)});const P=()=>{k()},Q=()=>{b({title:"加载更多...",icon:"none"})},R=()=>{w({itemList:["2024年","2025年","2026年"],success:a=>{const e=[2024,2025,2026][a.tapIndex];void 0!==e&&(j.value=e)}})},U=a=>{B.value=a,Y.value=!0,S.value="",setTimeout(()=>{if("month"===a){const a=H.lastIndexOf(F.value);S.value=`time-${Math.max(1,a)}`}else{const a=L.value.indexOf(A.value);S.value=`time-${Math.max(1,a-1)}`}},200),setTimeout(()=>{Y.value=!1},1500)},V=a=>{const e=new Date,t=e.getFullYear(),l=e.getMonth()+1,s=e.getDate(),n="month"===B.value?parseInt(a):parseInt(F.value),i="month"===B.value?1:parseInt(a);return j.value<t?"past":j.value>t?"future":"month"===B.value?n<l?"past":n>l?"future":"current":n<l?"past":n>l?"future":i<s?"past":i>s?"future":"current"},W=(a,e)=>{const t="month"===B.value?`${j.value}-${a}-${e}`:`${j.value}-${a}-${F.value}${e}`;return J.value[t]||null};return(a,e)=>{const t=c(u("t-icon"),$),l=i,k=r,w=v,z=c(u("app-footer"),T);return o(),s(l,{class:"page-container"},{default:n(()=>[d(l,{class:"header-section"},{default:n(()=>[d(l,{class:"header-top"},{default:n(()=>[d(l,{class:"back-btn",onClick:P},{default:n(()=>[d(t,{name:"chevron-left",size:"48rpx",color:"#fff"})]),_:1})]),_:1}),d(l,{class:"header-main"},{default:n(()=>[d(l,{class:"title-box"},{default:n(()=>[d(k,{class:"main-title"},{default:n(()=>[p("公示公告")]),_:1}),d(k,{class:"sub-title"},{default:n(()=>[p("共识、透明、公开")]),_:1}),d(l,{class:"house-info"},{default:n(()=>[d(t,{name:"location",size:"28rpx",color:"#fff",class:"loc-icon"}),d(k,null,{default:n(()=>[p(m(M.value),1)]),_:1})]),_:1})]),_:1}),d(l,{class:"header-illustration"},{default:n(()=>[d(l,{class:"illust-glass-card card-back"}),d(l,{class:"illust-glass-card card-front"},{default:n(()=>[d(l,{class:"notice-box"},{default:n(()=>[d(l,{class:"notice-line"}),d(l,{class:"notice-line"}),d(l,{class:"notice-dot"})]),_:1})]),_:1}),d(l,{class:"illust-cloud c1"}),d(l,{class:"illust-cloud c2"})]),_:1})]),_:1}),d(l,{class:"decor-circle"})]),_:1}),d(w,{"scroll-x":"",class:"tabs-scroll-view","show-scrollbar":!1,enhanced:!0},{default:n(()=>[d(l,{class:"tabs-container animate-fade-in"},{default:n(()=>[(o(),f(y,null,_(D,(a,e)=>d(l,{key:e,class:g(["tab-item",{active:I.value===e}]),onClick:a=>(a=>{I.value=a,Y.value=!0,S.value="",setTimeout(()=>{if("month"===B.value){const a=H.lastIndexOf(F.value);S.value=`time-${Math.max(1,a)}`}else{const a=L.value.indexOf(A.value);S.value=`time-${Math.max(1,a-1)}`}},200),setTimeout(()=>{Y.value=!1},1500)})(e)},{default:n(()=>[d(k,null,{default:n(()=>[p(m(a),1)]),_:2},1024),I.value===e?(o(),s(l,{key:0,class:"active-bar"})):h("",!0)]),_:2},1032,["class","onClick"])),64))]),_:1})]),_:1}),d(l,{class:"content-area"},{default:n(()=>[!C.value&&I.value<2?(o(),s(l,{key:0,class:"calendar-wrapper"},{default:n(()=>[d(l,{class:"calendar-header"},{default:n(()=>[d(l,{class:"header-left"},{default:n(()=>[d(l,{class:"year-selector",onClick:R},{default:n(()=>[d(t,{name:"calendar",size:"32rpx",color:"#3B82F6",class:"cal-icon"}),d(k,{class:"year-text"},{default:n(()=>[p(m(j.value)+" 年",1)]),_:1}),d(t,{name:"chevron-down",size:"28rpx",color:"#94A3B8"})]),_:1})]),_:1}),d(l,{class:"header-right"},{default:n(()=>[d(l,{class:"view-mode-switch"},{default:n(()=>[d(l,{class:g(["mode-btn",{active:"day"===B.value}]),onClick:e[0]||(e[0]=a=>U("day"))},{default:n(()=>[d(k,null,{default:n(()=>[p("日")]),_:1})]),_:1},8,["class"]),d(l,{class:g(["mode-btn",{active:"month"===B.value}]),onClick:e[1]||(e[1]=a=>U("month"))},{default:n(()=>[d(k,null,{default:n(()=>[p("月")]),_:1})]),_:1},8,["class"]),d(l,{class:g(["mode-slider",B.value])},null,8,["class"])]),_:1})]),_:1})]),_:1}),d(l,{class:"grid-table"},{default:n(()=>[d(w,{"scroll-x":"",class:g(["main-horizontal-scroll",{"initial-state":Y.value}]),"scroll-into-view":S.value,"scroll-with-animation":!0,onScroll:G},{default:n(()=>[d(l,{class:"table-row head-row"},{default:n(()=>[d(l,{class:"sticky-col label-cell"},{default:n(()=>[d(k,{class:"label-text"},{default:n(()=>[p(m("month"===B.value?j.value+"年":F.value),1)]),_:1})]),_:1}),d(l,{class:"months-container"},{default:n(()=>[(o(!0),f(y,null,_(L.value,(a,e)=>(o(),s(l,{class:g(["month-cell",{active:"month"===B.value?a===F.value:a===A.value}]),key:a,id:"time-"+(e+1),onClick:e=>(a=>{if("month"===B.value){F.value=a;const e=H.lastIndexOf(a);Y.value=!0,S.value="",setTimeout(()=>{S.value=`time-${Math.max(1,e)}`},50),setTimeout(()=>{Y.value=!1},1500)}else{A.value=a;const e=L.value.indexOf(a);Y.value=!0,S.value="",setTimeout(()=>{S.value=`time-${Math.max(1,e-1)}`},50),setTimeout(()=>{Y.value=!1},1500)}})(a)},{default:n(()=>[d(k,null,{default:n(()=>[p(m(a),1)]),_:2},1024)]),_:2},1032,["id","class","onClick"]))),128))]),_:1})]),_:1}),(o(!0),f(y,null,_(E.value,a=>(o(),s(l,{class:"table-row data-row",key:a.id},{default:n(()=>[d(l,{class:"sticky-col category-cell"},{default:n(()=>[d(k,null,{default:n(()=>[p(m(a.name),1)]),_:2},1024)]),_:2},1024),d(l,{class:"cells-container"},{default:n(()=>[(o(!0),f(y,null,_(L.value,(e,t)=>(o(),s(l,{class:"data-cell",key:e,id:"cell-"+a.id+"-"+(t+1),onClick:t=>((a,e)=>{if("month"===B.value){F.value=e,B.value="day",Y.value=!0,S.value="";const a=new Date;return parseInt(e)===a.getMonth()+1&&j.value===a.getFullYear()?(A.value=`${a.getDate()}日`,setTimeout(()=>{S.value=`time-${Math.max(1,a.getDate()-2)}`},200)):(A.value="1日",setTimeout(()=>{S.value="time-1"},200)),setTimeout(()=>{Y.value=!1},1500),void b({title:`已切换至 ${e} 详情`,icon:"none"})}const t=W(a,e);t&&b({title:`正在查看 ${t.status}`,icon:"none"})})(a.id,e)},{default:n(()=>[W(a.id,e)?(o(),s(l,{key:0,class:g(["status-card",W(a.id,e).type])},{default:n(()=>[d(l,{class:"status-text"},{default:n(()=>[p(m(W(a.id,e).status),1)]),_:2},1024),W(a.id,e).subStatus?(o(),s(l,{key:0,class:"sub-status"},{default:n(()=>[p(m(W(a.id,e).subStatus),1)]),_:2},1024)):h("",!0),d(l,{class:"action-link"},{default:n(()=>[p(m(W(a.id,e).action),1)]),_:2},1024)]),_:2},1032,["class"])):(o(),s(l,{key:1,class:g(["status-card default-status",V(e)])},{default:n(()=>["current"!==V(e)?(o(),s(l,{key:0,class:"status-text"},{default:n(()=>[p(m("past"===V(e)?"计划已完成":"按合同计划中"),1)]),_:2},1024)):h("",!0)]),_:2},1032,["class"]))]),_:2},1032,["id","onClick"]))),128))]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["class","scroll-into-view"])]),_:1})]),_:1})):!C.value&&I.value>=2?(o(),s(l,{key:1,class:"list-wrapper"},{default:n(()=>[d(l,{class:"policy-list"},{default:n(()=>[(o(!0),f(y,null,_(N.value,(a,e)=>(o(),s(l,{class:"policy-item",key:e,onClick:e=>(a=>{x({url:`/pages/notice/notice-detail?id=${a.id||1}`})})(a)},{default:n(()=>[d(l,{class:"item-icon"},{default:n(()=>[d(l,{class:"icon-inner"})]),_:1}),d(l,{class:"item-main"},{default:n(()=>[d(k,{class:"item-title"},{default:n(()=>[p(m(a.title),1)]),_:2},1024),d(l,{class:"item-info"},{default:n(()=>[d(k,{class:"item-source"},{default:n(()=>[p(m(a.source),1)]),_:2},1024),d(k,{class:"item-date"},{default:n(()=>[p(m(a.date),1)]),_:2},1024)]),_:2},1024)]),_:2},1024),d(l,{class:"item-right"},{default:n(()=>[d(t,{name:"chevron-right",size:"32rpx",color:"#64748B"})]),_:1})]),_:2},1032,["onClick"]))),128)),d(l,{class:"view-more",onClick:Q},{default:n(()=>[d(k,null,{default:n(()=>[p("查看更多")]),_:1}),d(t,{name:"chevron-down",size:"24rpx",color:"#94A3B8"})]),_:1})]),_:1})]),_:1})):(o(),s(l,{key:2,class:"loading-state"},{default:n(()=>[(o(),f(y,null,_(4,a=>d(l,{class:"skeleton-item-card",key:a},{default:n(()=>[d(l,{class:"skeleton-line tag-skel"}),d(l,{class:"skeleton-line title-skel"}),d(l,{class:"skeleton-line date-skel"})]),_:2},1024)),64))]),_:1}))]),_:1}),d(z)]),_:1})}}}),[["__scopeId","data-v-b9d16896"]]);export{I as default};
