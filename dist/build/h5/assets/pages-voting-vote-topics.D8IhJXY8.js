import{d as e,r as a,D as t,c as l,b as s,w as i,i as n,e as u,f as c,j as o,k as r,l as d,m as p,n as v,F as m,p as f,x as y,t as T,I as g,s as _,B as b,G as h,A as x}from"./index-8WK0Ux_r.js";import{_ as k,a as C}from"./icon.CNXA9uzs.js";import{V as B}from"./VoteCard.RlULB-26.js";const V=C(e({__name:"vote-topics",setup(e){const C=a(0),V=a(""),j=a("");t(e=>{e&&e.tab&&(C.value=parseInt(e.tab))});const w=[{name:"全部",value:"all"},{name:"进行中",value:"ongoing"},{name:"已结束",value:"ended"}],z=l(()=>[{label:"全部项目",value:A.value.length,type:"all",active:0===C.value&&!j.value},{label:"进行中",value:A.value.filter(e=>"ongoing"===e.statusType).length,type:"ongoing",active:1===C.value&&!j.value},{label:"已结束",value:A.value.filter(e=>"ended"===e.statusType).length,type:"ended",active:2===C.value&&!j.value},{label:"一般事项",value:A.value.filter(e=>"normal"===e.mainType).length,type:"normal",active:"normal"===j.value},{label:"特别事项",value:A.value.filter(e=>"special"===e.mainType).length,type:"special",active:"special"===j.value}]),A=a([{id:1,title:"阳光水岸小区第三届业主委员会选举",startTime:"2026-01-15 00:00",endTime:"01-25 23:59",statusText:"已结束",statusType:"ended",mainType:"normal",type:"业委会选举",participants:450},{id:2,title:"阳光水岸2026年度物业服务续聘表决",startTime:"2025-12-01 00:00",endTime:"02-28 23:59",statusText:"进行中",statusType:"ongoing",mainType:"normal",type:"物业选聘",participants:128},{id:3,title:"阳光水岸1-1单元电梯更新改造维修资金使用投票",startTime:"2026-02-01 00:00",endTime:"02-20 23:59",statusText:"进行中",statusType:"ongoing",mainType:"normal",type:"使用维修资金",participants:45},{id:4,title:"阳光水岸2026年公共收益分配方案投票",startTime:"2026-01-10 00:00",endTime:"01-30 23:59",statusText:"已结束",statusType:"ended",mainType:"special",type:"共有部分经营",participants:560},{id:5,title:"阳光水岸关于筹集二期专项维修资金的表决",startTime:"2026-02-05 00:00",endTime:"02-25 23:59",statusText:"进行中",statusType:"ongoing",mainType:"special",type:"筹集维修资金",participants:89},{id:6,title:"关于阳光水岸物业费调整（由1.8元/㎡调至2.1元/㎡）的投票",startTime:"2026-02-01 00:00",endTime:"02-28 23:59",statusText:"进行中",statusType:"ongoing",mainType:"normal",type:"物业费调整",participants:234}]),I=l(()=>{let e=A.value;if(0!==C.value){const a=w[C.value];a&&(e=e.filter(e=>e.statusType===a.value))}if(j.value&&(e=e.filter(e=>e.mainType===j.value)),V.value){const a=V.value.toLowerCase();e=e.filter(e=>e.title.toLowerCase().includes(a))}return e}),D=()=>{h()};return(e,a)=>{const t=u(c("t-icon"),k),l=n,h=d,A=g,F=b;return o(),s(l,{class:"page-container"},{default:i(()=>[r(l,{class:"header-section"},{default:i(()=>[r(l,{class:"header-top"},{default:i(()=>[r(l,{class:"back-btn",onClick:D},{default:i(()=>[r(t,{name:"chevron-left",size:"48rpx",color:"#fff"})]),_:1}),r(h,{class:"page-title"},{default:i(()=>[p("全部投票")]),_:1})]),_:1}),r(l,{class:"decor-circle"})]),_:1}),r(l,{class:"stats-card-container"},{default:i(()=>[r(l,{class:"stats-card"},{default:i(()=>[r(l,{class:"stats-header"},{default:i(()=>[r(t,{name:"chart-bar",size:"36rpx",color:"#3B82F6"}),r(h,{class:"stats-title"},{default:i(()=>[p("选举项目统计")]),_:1})]),_:1}),r(l,{class:"stats-grid"},{default:i(()=>[(o(!0),v(m,null,f(z.value,(e,a)=>(o(),s(l,{class:y(["stats-item",{active:e.active}]),key:a,onClick:a=>(e=>{"all"===e.type?(C.value=0,j.value=""):"ongoing"===e.type?(C.value=1,j.value=""):"ended"===e.type?(C.value=2,j.value=""):(C.value=0,j.value=e.type)})(e)},{default:i(()=>[r(h,{class:"stats-label"},{default:i(()=>[p(T(e.label),1)]),_:2},1024),r(l,{class:"num-box"},{default:i(()=>[r(h,{class:"stats-num"},{default:i(()=>[p(T(e.value),1)]),_:2},1024),r(h,{class:"stats-unit"},{default:i(()=>[p("项")]),_:1})]),_:2},1024)]),_:2},1032,["onClick","class"]))),128))]),_:1})]),_:1})]),_:1}),r(l,{class:"filter-section"},{default:i(()=>[r(l,{class:"search-box"},{default:i(()=>[r(t,{name:"search",size:"36rpx",color:"#94A3B8"}),r(A,{type:"text",modelValue:V.value,"onUpdate:modelValue":a[0]||(a[0]=e=>V.value=e),placeholder:"搜索投票议题名称","placeholder-style":"color: #94A3B8"},null,8,["modelValue"])]),_:1}),r(l,{class:"tabs-bar"},{default:i(()=>[r(l,{class:"main-tabs-container"},{default:i(()=>[r(l,{class:"tabs-slider",style:_({width:100/w.length+"%",transform:"translateX("+100*C.value+"%)"})},null,8,["style"]),(o(),v(m,null,f(w,(e,a)=>r(l,{key:a,class:y(["main-tab-item",{active:C.value===a}]),onClick:e=>(e=>{C.value=e,j.value=""})(a)},{default:i(()=>[r(h,{class:"tab-label"},{default:i(()=>[p(T(e.name),1)]),_:2},1024)]),_:2},1032,["class","onClick"])),64))]),_:1})]),_:1})]),_:1}),r(F,{"scroll-y":"",class:"content-scroll"},{default:i(()=>[I.value.length>0?(o(),s(l,{key:0,class:"vote-list"},{default:i(()=>[(o(!0),v(m,null,f(I.value,e=>(o(),s(B,{key:e.id,vote:e,onClick:a=>(e=>{"ongoing"===e.statusType?x({url:`/pages/voting/reminder?id=${e.id}`}):x({url:`/pages/voting/vote-result?id=${e.id}`})})(e)},null,8,["vote","onClick"]))),128)),r(l,{class:"list-end"},{default:i(()=>[r(h,null,{default:i(()=>[p("已经到底啦")]),_:1})]),_:1})]),_:1})):(o(),s(l,{key:1,class:"empty-state"},{default:i(()=>[r(t,{name:"info-circle",size:"120rpx",color:"#CBD5E1"}),r(h,{class:"empty-text"},{default:i(()=>[p("暂时没有符合条件的投票议题")]),_:1})]),_:1}))]),_:1})]),_:1})}}}),[["__scopeId","data-v-07174bd1"]]);export{V as default};
